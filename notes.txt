ROBOTIKA

- robot: elektro-mehaniÄka naprava s viÅ¡e stupnjeva slobode (SS), programirana za izvrÅ¡enje razliÄitih radnih tadaÄ‡a
- industrijski robot: programiran, viÅ¡efunkcijski manipulator namijenjen za prijenos materijala, dijelova, alata ili posebnih naprava preko razliÄitih programiranih pokreta za izvoÄ‘enje razliÄitih zadaÄ‡a

3 generacije robota:

1) mehaniÄki rad + jednostavne programirane sekvence
Nemaju senzore ni autonomiju (strogo definirani uvjeti)
Koriste se u industriji za manipulaciju materijalom i repetitivne zadatke

2) ugraÄ‘eni senzori koji omoguÄ‡uju reakciju na okolinu (vid, dodir, sila)
SloÅ¾eniji industrijski procesi i montaÅ¾a
Fleksibilnost i sigurnost pri radu s ljudima

3) autonomni i inteligentni => koriste ML i CV
Real-time decision making
Medicina, usluÅ¾ne djelatnosti, svemirske misije...
Primjer: self-driving auti koji moraju moÄ‡i reagirati na nepredvidive stvari

Pojmovi:

SS - stupnjevi slobode => broj neovisnih pokreta koje neki ureÄ‘aj moÅ¾e izvesti (mobilnost)
Npr. po kojim osima po kojima se robot moÅ¾e kretati
U pravilu: broj stupnjeva slobode = broj zglobova koje robot ima (ali ne nuÅ¾no)

Manupulator: elektromehaniÄka naprava sposobna da meÄ‘udjeluje sa svojom okolinom

Antropomorfologija => poput ljudskog biÄ‡a

Krajnji djelovatelj => alat, hvataljka ili naprava ugraÄ‘ena na kraju manipulatora, za izvoÄ‘enje korisnih zadataka (END EFFECTOR)
Aktuator => motori u zglobovima koji pomiÄu robota
Senzor => da ne znan Äa je senzor, moga bin se poj hitit u prvu jamu koju najden

Radni prostor: obujam prostora koji end effector moÅ¾e doseÄ‡i i svojim namjeÅ¡tenim poloÅ¾ajem i usmjerenjem

PoloÅ¾aj: translatorni poloÅ¾aj (pravocrtni) => x,y,z koordinate
Usmjerenje: PoloÅ¾aj okretanja (kutni) nekog tijela => vrtnja, korak nagiba, kut skretanja (pitch, roll, jaw)
Spona (Älanak): kruti spoj od nekog materijala koji povezuje zglobove na robotu
Zglob: mehanizam koji omoguÄ‡uje relativno kretanje izmeÄ‘u 2 spone na robotu

U pravilu, spona je kruta, a zglob mobilan

Kinematika: nauka o pokretu bez obzira na sile i mase => omoguÄ‡ava do odredimo poziciju robota na temelju kutnih pomaka svakog zgloba i obrnuto (uzmemo krajnji poloÅ¾aj i izraÄunamo koji su bili kutni pokreti)
Dinamika: nauka o pokretu koja uzima u obzir sile i mase

Aktuator: pokretaÄ; omoguÄ‡uje snagu koja je potrebna za kretanje robota
Senzor: mjerni pretvornik; oÄitava varijable prilikom kretanja robota za upotrebu nadzora

Brzina i nosivost
VeliÄina udaljenosti u vremneu pri kojoj se robot kreÄ‡e, m/s

Brzina je odreÄ‘ena za odreÄ‘eno optereÄ‡enje, pod pretpostavkom noÅ¡enja jednake brzine
TrenutaÄna brzina ovisi o prenesenoj reÅ¾ini

Nosivost => koju max teÅ¾inu moÅ¾e nositi

ToÄnost - sposobnost robota da se kreÄ‡e do odreÄ‘enog mjesta bez greÅ¡ke
Nije moguÄ‡e 100% :(
Preciznost - sposobnost robota da se namjesti u poloÅ¾aj prema odreÄ‘enom mjestu s najmanjom greÅ¡kom

ğŸ¯ ToÄnost (Accuracy)

ğŸ‘‰ â€œKoliko blizu robot zapravo doÄ‘e toÄnoj Å¾eljenoj toÄki.â€
Drugim rijeÄima, toÄnost je sposobnost robota da pogodi cilj.
Ako mu kaÅ¾eÅ¡ da ide na (x=10, y=20, z=5), toÄnost opisuje koliko se on stvarno pribliÅ¾i toj poziciji.

Tvoja definicija: â€œsposobnost robota da se kreÄ‡e do odreÄ‘enog mjesta bez greÅ¡keâ€
âœ… ToÄno! Samo moÅ¾eÅ¡ dodati: â€œ...u odnosu na zadanu referentnu poziciju.â€

ğŸ” Ponovljivost (Repeatability)

ğŸ‘‰ â€œKoliko precizno robot moÅ¾e ponovno doÄ‡i na isto mjesto kad viÅ¡e puta ponovi isti pokret.â€
ZnaÄi, moÅ¾da nije savrÅ¡eno toÄan (svaki put malo promaÅ¡i cilj), ali ako svaki put promaÅ¡i na isti naÄin, ima dobru ponovljivost.

Tvoja definicija: â€œsposobnost robota da se namjesti uzastopno u odreÄ‘eni poloÅ¾aj kad je zatraÅ¾eno da izvrÅ¡i zadatak viÅ¡e putaâ€
âœ… SavrÅ¡eno! To je doslovno textbook definicija.

âš™ï¸ Primjer za pamÄ‡enje:

Zamisli da robot svaki put pokuÅ¡a dotaknuti toÄku na stolu:

Ako svaki put promaÅ¡i malo desno, ali uvijek isto â€” ima visoku ponovljivost, ali slabu toÄnost.

Ako svaki put pogodi toÄno mjesto, ima visoku toÄnost i vjerojatno i visoku ponovljivost.

Ako svaki put pogodi drugo mjesto â€” ima slabu ponovljivost, bez obzira na toÄnost.

ğŸ’¡ Zlatna reÄenica za zapamtit:

â€œRobot moÅ¾e biti ponovljiv, ali ne nuÅ¾no toÄan â€” no ako je toÄan, mora biti i ponovljiv.â€


Osnovne komponente robotskih manipulatora

- robotska ruka/manipulator
- vrh manipulatora (end-effector)
- pogonski sustav
- senzori
- sustav upravljanja i regulacije

Robotski manipulator:
- skup Älanaka (spona) meÄ‘usobno povezanih zglobovima
Robotski manipulator sastoji se od:

Tijela, Ruke, RuÄnog zgloba

U proizvodnim procesima, najÄeÅ¡Ä‡e priÄvrÅ¡Ä‡eni za podlogu(bazu)

Na kraju ruke => zglob s viÅ¡e komponenti

Vrste zglobova:
Translacijski
Rotacijski
Revolucijski
Torzijski
Sferni

Naravno Å¡efe, idemo redom â€“ ovo su kljuÄne vrste zglobova (engl. *joints*) koji definiraju **stupnjeve slobode** (*degrees of freedom, DOF*) robota i naÄin na koji se pojedini segmenti mogu kretati jedan u odnosu na drugi.

---

### 1. **Translacijski zglob (prizmatiÄni zglob)** - oznaka L

**Opis:**
OmoguÄ‡uje **pravocrtno (linearno) gibanje** duÅ¾ jedne osi â€“ naprijed-nazad, gore-dolje ili lijevo-desno.
**Primjer:**
KlasiÄni *linear actuator* ili klizaÄ koji se pomiÄe po vodilici.
**Uloga u robotici:**
Koristi se u sustavima gdje je potrebno precizno pozicioniranje bez rotacije (npr. robotski stolovi, CNC strojevi, 3D printeri â€“ os X/Y/Z).

---

### 2. **Rotacijski zglob** - oznaka R

**Opis:**
OmoguÄ‡uje **rotaciju oko jedne osi**.
**Primjer:**
Motor koji zakreÄ‡e ruku robota oko osi, poput zakretanja vrata.
**Uloga u robotici:**
Osnovni tip rotacijskog spoja â€“ koristi se za orijentaciju segmenata robota, npr. za zakretanje baze robota ili lakta.

---

### 3. **Revolucijski zglob** - oznaka V

**Opis:**
Vrlo sliÄan rotacijskom, ali naglasak je na tome da **omoguÄ‡uje rotaciju oko fiksne osi s jednim stupnjem slobode** (1 DOF).
**Primjer:**
Zglob u robotskoj ruci koji omoguÄ‡uje savijanje kao ljudski lakat.
**Uloga u robotici:**
NajÄeÅ¡Ä‡e koriÅ¡ten tip zgloba u **manipulatorima** â€“ svaka â€œosâ€ robota (ramo, lakat, zglob) zapravo je revolucijski zglob.

---

### 4. **Torzijski zglob** - oznaka T

**Opis:**
OmoguÄ‡uje **uvijanje (torziju)** oko osi â€“ rotacija s elastiÄnim otporom.
**Primjer:**
Zglob koji moÅ¾e malo â€œpopustitiâ€ pod optereÄ‡enjem, sliÄno torzijskom opruÅ¾nom spoju.
**Uloga u robotici:**
Koristi se u sustavima gdje je potrebna **fleksibilnost i apsorpcija udara**, npr. *compliant robots* ili kolaborativni roboti (coboti) koji rade uz ljude.

---

### 5. **Sferni zglob (ball joint)**

**Opis:**
OmoguÄ‡uje **rotaciju oko tri osi (3 DOF)** â€“ moÅ¾e se okretati, savijati i naginjati u svim smjerovima, baÅ¡ kao ljudsko rame.
**Primjer:**
Kuglasti zglob u robotskoj ruci ili u automobilskom ovjesu.
**Uloga u robotici:**
OmoguÄ‡uje **potpunu orijentaciju alata ili senzora**, pa se Äesto koristi na kraju manipulatora (tzv. *end effector*) kako bi se alat mogao slobodno orijentirati prema objektu.
Nisu baÅ¡ Äesti jer je njima teÅ¡ko upravljati
Treba nam viÅ¡e motora
---

Osnovne strukture (konfiguracije/sklopovi)

Pravokutna (kartezijska, LLL)
3 translacijska zgloba Äije su osi meÄ‘usobno okomite
Svaki stupan pokretljivosti odgovara stupnju slobode u k.k.s.

Robot vrÅ¡i pravocrtno kretanje, a struktura je dobro mehaniÄki Ävrsta
Nedostatak: robot ima slabu pokretljivost, jer su svi zglobovi translacijski, a radni prostor ovog robota je prizma
Ova konfiguracija pristupa objektu "sa strane"

CilindriÄna (TLL)
Prvi zglob pravokutne strukture zamijeni se cilindriÄnim
Radni prostor je columen izmeÄ‘u 2 koncentriÄna plaÅ¡ta valjka
Prednost: dobra mehaniÄka ÄvrstoÄ‡a
Nedostatak: toÄnost pozicioniranja ruÄnog zgloba smanjuje se s poveÄ‡anjem horizontalnog hoda
Upotreba: prijenos objekata veÄ‡ih dimenzija
U pravilu im se ne daje punih 360 stupnjeva za rotaciju za stavit kablove i sl.


Sferna konfiguracija (TRL)
Zamjena prvog i drugog zgloba pravokutne ili drugog zgloba cilindriÄne konfiguracije s rotacijskim zglobom
Radni prostor je dio volumena izmeÄ‘u 2 koncentriÄne sfere
ÄŒesto se koristi za oruÅ¾je
MehaniÄka ÄvrstoÄ‡a sferne robotske strukture je manja u odnosu na cilindriÄnu i pravokutnu

Rotacijska konfiguracija (TRR)
Sva 3 zgloba su rotacijska 
Osi rotacije drugog i treÄ‡eg zgloba su paralelne i okomite na os rotacije prvog zgloba
Ako nema fiziÄkih ograniÄenja kretanja, onda je radni prostor tog robota kugla
Za pogon zglobova koriste se elektromotori

SCARA Robot
Selective Compliance Assembly Robot Arm
Osi sva 3 zgloba su vertikalne
2 rotacijska i 1 translacijski zglob
Konfiguracije: TLR, LRR, TRL
ÄŒvrst na vertikalnoj osi 
Dobar za rad na pokretnim trakama (posebno assembly malih djelova)

Vrh manipulatora/krajnji djelovatelj/end effector
Na kraju robotskog manipulatora
2 osnovna tipa: hvataljka, alat

Hvataljke
Sklopovi za drÅ¾anje i/ili hvatanje objekata
MehaniÄke ruke, kuke, magneti, usisnici
Princip od toÄke do toÄke (uzmi neÅ¡to na poÄetnoj toÄki, donesi do krajnje toÄke; putanja nam nije pretjerano bitna)

- 2/3 prsta, ali more i viÅ¡e
Princip trenja izmeÄ‘u ruke i objekta
Na hvataljku se dodaje poliuretan => veÄ‡e trenje, sprijeÄavanje oÅ¡teÄ‡enja objekta kji se prenosi

Usisne hvataljke
1)Princip vakuuma (pumpe + kompresori)
2)Fleksibilne usisne prijanjaljke 

Prednost: ako nestane struje, stvar koja se drÅ¾i ne pada

Magnetske hvataljke
Rade samo s feromagnetskim materijalima
PoÅ¾eljno je da magnet bude u potpunom kontaktu s povrÅ¡inom metala (poÅ¾eljno da je metal ravan da se magnet bolje ulovi)
Elektromagneti i permanentni magneti


Alati
UreÄ‘aj koji se koristi kod robota za obavljanje operacije na objektu
Robotski manupulatori s alatom moraju imati kontinuiranu kontrolu putanje (stabilna i kontinuirano kontrolirana)
Npr. farbanje s sprejon...ako je prebrzo, ne valja, ako je presporo isto je u klincu

Tipovi alata:
NajÅ¡eÅ¡Ä‡e zavarivanje

Pogoni:
Pneumatski => stlaÄeni zrak
HidrauliÄki => ulje pod tlakom
ElektriÄni => struja

Pneumatski 
prednosti => super za male robote, brz, jeftinije, ekoloÅ¡ki, nije eksplozivan ni zapaljiv, nema povratnih vodova, otporan na preoptereÄ‡enje, neosjetljiv na zraÄenja i elektromagnete
nedostaci => male sile, stlaÄeni zrak je skuplji od alternativa, problem upravljanja pri malim brzinama, buÄno, zbog otpora strujanja nije baÅ¡ dobar za velike udaljenosti

HidrauliÄki
prednosti => super za velike robote, moguÄ‡e ekstremno niske brzine, velike sile i snage, preciznost zbog nestalÄivosti ulja, relativno jednostavan transport, lako podeÅ¡avanje sile i brzine, podmazivanje i odvoÄ‘enje topline
nedostaci => oneÄiÅ¡Ä‡enje u sluÄaju istjecanje ulja, zauzima veliki prostor, visoka cijena opreme, potreban povratni vod

Elektromotorni
prednosti => pogodan za male i srednje robote, ekologija, najÄeÅ¡Ä‡e upotrebljavan, odliÄna upravljaÄka svojstva, niske cijene elektromotora, reverzibilno koÄenje, moguÄ‡nost upravljanja na veÄ‡im udaljenostima
nedostaci => potrebna koÄnica, potreban reduktor, potreba za senzorima

To je mehaniÄki prijenosnik koji smanjuje brzinu vrtnje elektromotora, a poveÄ‡ava okretni moment (snagu).
Reduktor omoguÄ‡ava da radi sporije, ali jaÄe

ElektriÄni pogon robota:

Istosmjerni elektromotor
Koristi DC
Brzina vrtnje proporcionalna naponu napajanja
Neodstatak => brzina ovisi o naponu, ali neÅ¡to je niÅ¾a od rotacijskog polja...postoji klizanje. Unutarnji rotor je brÅ¾i od vanjskog, pa treba viÅ¡e energije i nije potpuno egzaktno (ne moÅ¾emo biti 100% sigurni koliko Ä‡e se zarotirati)

Asinkroni strojevi...momentum mu raste sporije (ko kad nabijaÅ¡ gas na autu, pa se diÅ¾u okretaji)
Sinkroni strojevi => sloÅ¾ena regulacija i upravljanje; jako velike snage

Senzori - mjerni pretvornici
NajÄeÅ¡Ä‡e su to senzori poloÅ¾aja
Ali ima joÅ¡ i: brzina, ubrzanje, udaljenost, sila, moment

Bitne krakteristike:
ToÄnost
Preciznost
Granica detekcija - najniÅ¾a vrijednost koju moÅ¾e izmjeriti
Rezolucija - najmanja inkrementalna promjena ulaznog signala koja je mjerljiva
Lineranost
Vrijeme odziva

Histereza
Å½ivotni vijek
DinamiÄki raspon
Ponovljivost
Obnovljivost

---

### **1. ToÄnost (accuracy)**

Koliko **blizu stvarnoj vrijednosti** senzor mjeri.
Primjer: ako je stvarna temperatura 25.0Â°C, a senzor pokazuje 25.1Â°C â€“ to je vrlo toÄan senzor.
**Å to manja pogreÅ¡ka â†’ veÄ‡a toÄnost.**

---

### **2. Preciznost (precision)**

Koliko su **rezultati meÄ‘usobno sliÄni** kad viÅ¡e puta mjeriÅ¡ istu stvar.
Primjer: ako senzor svaki put pokaÅ¾e 25.4Â°C, on je **precizan**, ali moÅ¾da nije **toÄan** (ako je stvarna 25.0Â°C).
Dakle â€“ **toÄnost = blizina stvarne vrijednosti**,
**preciznost = ponovljivost mjerenja.**

---

### **3. Granica detekcije (detection limit)**

Najmanja vrijednost koju senzor **moÅ¾e registrirati**.
Primjer: ultrazvuÄni senzor koji detektira udaljenosti od 2 cm do 4 m â†’ 2 cm mu je **donja granica detekcije**.
Ispod toga jednostavno â€œne vidiâ€.

---

### **4. Rezolucija (resolution)**

Najmanja promjena koju senzor moÅ¾e **razlikovati**.
Primjer: enkoder koji mjeri poloÅ¾aj u koracima od 0.1Â° ima rezoluciju 0.1Â°.
ZnaÄi, ako se pomakneÅ¡ 0.05Â°, senzor to **neÄ‡e primijetiti**.

---

### **5. LinearÂ­nost (linearity)**

Koliko je **izlazni signal proporcionalan ulaznom**.
Idealno: kad se ulaz poveÄ‡a 2Ã—, i izlaz bi se trebao poveÄ‡ati 2Ã—.
Ako to nije sluÄaj, senzor je **nelinearan** i stvara pogreÅ¡ke u odreÄ‘enim podruÄjima mjerenja.

---

### **6. Vrijeme odziva (response time)**

Koliko brzo senzor **reagira na promjenu**.
Primjer: termometar kojem treba 2 sekunde da prikaÅ¾e novu temperaturu ima vrijeme odziva 2 s.
U robotici, manji odziv = bolja dinamika sustava.

---

### **7. Histereza (hysteresis)**

Razlika u izlazu senzora ovisno o tome **mijenja li se veliÄina prema gore ili dolje**.
Primjer: senzor pokazuje 10.0 V kad se sila poveÄ‡ava do 100 N, ali 9.8 V kad se sila smanjuje natrag na 100 N.
To je histereza â€“ rezultat â€œzaostajeâ€ ovisno o smjeru promjene.

---


### **8. Å½ivotni vijek (lifetime)**

Koliko dugo senzor **moÅ¾e pouzdano raditi** prije nego Å¡to poÄne gubiti performanse.
Npr. optiÄki senzor: 10 milijuna ciklusa ili 5 godina rada.

---

### **9. DinamiÄki raspon (dynamic range)**

Omjer izmeÄ‘u **najveÄ‡e i najmanje** vrijednosti koju senzor moÅ¾e toÄno izmjeriti.
Primjer: mikrofon koji mjeri od 20 dB do 120 dB ima dinamiÄki raspon od 100 dB.
VeÄ‡i raspon = moÅ¾e mjeriti i male i velike vrijednosti bez zasiÄ‡enja.

---

### **10. Ponovljivost (repeatability)**

Koliko senzor daje **isti rezultat** kad u istim uvjetima mjeri viÅ¡e puta.
Primjer: ako svaki put izmjeri 1.001 V Â±0.001 V â†’ visoka ponovljivost.

---

### **11. Obnovljivost (reproducibility)**

Koliko sliÄne rezultate daje **u razliÄitim uvjetima** â€“ npr. na razliÄitim temperaturama, u razliÄitim mjernim ciklusima, ili s drugim senzorom istog tipa.
Ako dva identiÄna senzora daju gotovo isti rezultat â†’ dobra obnovljivost.

---

Senzori pomaka => mjerenje linearnog ili rotacijskog pomaka (zakreta)
Mogu biti:
potenciometarski
induktivni
kapacitivni
magnetski
ultrazvuÄni
radari
optiÄki
digitalni enkoderi (najÅ¡eÅ¡Ä‡i u robotici)


Naravno Å¡efe! Evo ti **saÅ¾et, ali jasan pregled** svakog tipa senzora pomaka â€” taman za uÄenje, ponavljanje ili skriptu.

---

### **1. Potenciometarski senzori**

* Mjere pomak pomoÄ‡u **promjene otpora** (klizaÄ po otporniku).
* Jednostavni i jeftini.
* Daju **analogni signal** (npr. 0â€“5 V).
* Slabiji Å¾ivotni vijek (mehaniÄko troÅ¡enje).
* Koriste se za **poziciju osovine ili klizaÄa**.

---

### **2. Induktivni senzori**

* Rade na principu **promjene induktivnosti** (zbog metalnog objekta).
* Dobri za **ne-kontaktno mjerenje** poloÅ¾aja metalnih dijelova.
* Otporni na praÅ¡inu, vlagu i prljavÅ¡tinu.
* Koriste se u **industrijskim manipulatorima i robotima**.

---

### **3. Kapacitivni senzori**

* Mjere promjenu **kapaciteta izmeÄ‘u dviju elektroda**.
* Mogu detektirati **vodljive i nevodljive materijale**.
* Vrlo **osjetljivi**, ali podloÅ¾ni smetnjama (vlaga, praÅ¡ina).
* Koriste se u **preciznim mjerenjima malih pomaka**.

---

### **4. Magnetski senzori**

* Rade na principu **magnetnog polja** (Hall efekt, magnetorezistivni efekt).
* Ne-kontaktno mjerenje rotacije ili translacije.
* Dugotrajniji od potenciometara.
* Koriste se za **mjerenje zakreta osovine motora** ili **poziciju kotaÄa**.

---

### **5. UltrazvuÄni senzori**

* Emitiraju **zvuÄni val** i mjere vrijeme povratka eha.
* Iz toga raÄunaju **udaljenost/pomak**.
* Dobri za **veÄ‡e udaljenosti (cm do metara)**.
* Nisu precizni na vrlo malim udaljenostima.
* Koriste se u **mobilnoj robotici** (izbjegavanje prepreka).

---

### **6. Radarski senzori**

* Koriste **mikrovalne valove** umjesto zvuka.
* VeÄ‡i domet i **manje osjetljivi na uvjete okoline** (praÅ¡ina, svjetlo).
* Precizni, ali **skuplji** i sloÅ¾eniji.
* Koriste se u **autonomnim vozilima i industrijskoj automatizaciji**.

---

### **7. OptiÄki senzori**

* Koriste **svjetlost (lasersku ili infracrvenu)** za detekciju pomaka.
* Vrlo **precizni** i **brzi odziv**.
* Mogu biti reflektivni ili probojni (beam).
* Koriste se za **mjerenje linearnog pomaka, brzine, poloÅ¾aja**.

---

### **8. Digitalni enkoderi**

* NajÄeÅ¡Ä‡e koriÅ¡teni u robotici.
* Pretvaraju **rotaciju u digitalni signal** (impulse).
* Dva tipa: **inkrementalni** (mjere promjenu) i **apsolutni** (znaju toÄan poloÅ¾aj).
* Vrlo **precizni i pouzdani**, idealni za **servo sustave i robotske zglobove**.

---


Apsolutni enkoder

Å to radi apsolutni enkoder?

Apsolutni enkoder mjeri toÄan kutni poloÅ¾aj osovine i pritom svakom poloÅ¾aju pridruÅ¾uje jedinstvenu digitalnu vrijednost (kod).
Drugim rijeÄima:
â†’ zna apsolutni poloÅ¾aj, ne samo promjenu poloÅ¾aja kao inkrementalni enkoder.

ÄŒim ga upaliÅ¡ â€“ odmah zna u kojem je poloÅ¾aju, bez potrebe za â€œnultiranjemâ€.

Princip rada (osnovna ideja)

U enkoderu se nalazi disk koji se okreÄ‡e zajedno s osovinom.
Na tom disku su koncentriÄni prstenovi s prozraÄnim (prozirnim) i neprozraÄnim (neprozirnim) segmentima â€” zapravo binarni uzorci.

S druge strane diska nalazi se niz optiÄkih senzora (fototranzistora) koji â€œÄitajuâ€ prolaz svjetlosti kroz te uzorke.
Kombinacija svjetlo/tama = 1 ili 0 â†’ binarni kod poloÅ¾aja.

Primjerice, ako imaÅ¡ 3 prstena:

unutarnji prsten = bit 1

srednji prsten = bit 2

vanjski prsten = bit 3

Za svaki kut osovine dobijeÅ¡ npr. 101, 110, 011... â€” svaka ta kombinacija znaÄi toÄno definiran kut.

Vrste kodiranja

Postoje razliÄiti naÄini kako su ti prstenovi â€œkodiraniâ€:

Binarni kod â€“ klasiÄni 0 i 1 niz.

Gray kod â€“ koristi se ÄeÅ¡Ä‡e jer se mijenja samo 1 bit po koraku â†’ manja Å¡ansa za pogreÅ¡ku kod prelaska izmeÄ‘u vrijednosti.

Koliko pozicija moÅ¾e mjeriti?

Ako imaÅ¡ n prstena â†’ moÅ¾eÅ¡ razlikovati 2â¿ poloÅ¾aja.
Primjer:

12-bitni enkoder â†’ 2Â¹Â² = 4096 razliÄitih kutnih pozicija u jednom okretaju.
Postoje i viÅ¡ekruÅ¾ni enkoderi (multi-turn) koji koriste dodatni mehanizam da pamte i broj okretaja.

Prednosti apsolutnih enkodera

Nema gubitka poloÅ¾aja nakon gaÅ¡enja napajanja.

Nema potrebe za inicijalizacijom (nema homing sekvence).

Visoka toÄnost i rezolucija.

Mogu biti optiÄki, magnetski ili induktivni.

Primjena u robotici

Koriste se na zglobovima robota i servo motorima gdje trebaÅ¡ precizno znati orijentaciju u svakom trenutku â€“ Äak i ako se sustav resetira.
Na primjer, robot ruke mora znati toÄno pod kojim je kutom lakat i bez da se â€œvrati u nuluâ€.

Å to radi inkrementalni enkoder?

Inkrementalni enkoder ne zna apsolutni poloÅ¾aj, nego mjeri promjenu poloÅ¾aja â€” dakle, koliko se i u kojem smjeru osovina pomaknula.
On broji â€œimpulseâ€ dok se osovina okreÄ‡e.
Ne zna di je, ali zna da se pomiÄe

Kad ga ugasiÅ¡ â€“ zaboravi poloÅ¾aj. Kad ga upaliÅ¡ â€“ krene iz nule i moraÅ¡ ga â€œnultiratiâ€ (tzv. homing procedura).

Princip rada

Unutra opet imaÅ¡ rotirajuÄ‡i disk s prozraÄnim i neprozraÄnim prorezima.
Na jednoj strani je LED dioda, a na drugoj fototranzistor (optiÄki senzor).
Kad se disk vrti, svjetlost prolazi i prekida se â€” senzor to vidi kao niz impulsa (1, 0, 1, 0...).

Ti impulsi govore koliko se osovina okrenula.
Ako, primjerice, disk ima 500 proreza â†’ svaki okretaj daje 500 impulsa â†’ moÅ¾eÅ¡ izraÄunati kut po impulsu.

Detekcija smjera rotacije

Da bi znao u kojem smjeru se vrti osovina, enkoder ima dva kanala (A i B).
Oni su pomaknuti fazno za 90Â° â€“ tzv. kvadraturni signal.
Ako kanal A vodi B â†’ vrti se naprijed.
Ako B vodi A â†’ vrti se nazad.

Zato se Äesto zove i kvadraturni enkoder.

Referentni impuls (Z-kanal)

Neki inkrementalni enkoderi imaju i Z impuls â€“ to je jedan impuls po okretaju i sluÅ¾i za oznaÄavanje â€œnulte toÄkeâ€.
Kad ga oÄitaÅ¡, znaÅ¡ da si toÄno na poÄetnoj poziciji.

Vrste signala

TTL (digitalni) â€“ za brze sustave, do nekoliko MHz.

Sin/Cos (analogni) â€“ koristi se u preciznim servo sustavima (npr. interpolacija izmeÄ‘u impulsa).

Prednosti inkrementalnih enkodera

Jednostavniji i jeftiniji od apsolutnih.

Brzi odziv, idealni za mjerenje brzine i relativnog poloÅ¾aja.

Lako se integriraju s mikrokontrolerima i PLC-ovima.

Nedostaci

Gubi poloÅ¾aj kad se ugasi napajanje.

Potrebna inicijalizacija (homing) pri svakom pokretanju.

MoÅ¾e izgubiti impulse pri vrlo visokim brzinama ako sustav nije sinkroniziran.

Primjena u robotici

Koristi se u servo sustavima, kotaÄima mobilnih robota, transportnim trakama, CNC pogonima â€“ svuda gdje ti je bitno znati koliko se neÅ¡to pomaknulo i kojom brzinom.


Polarne koordinate (2D sluÄaj)

U ravnini (2D) toÄku opisujeÅ¡ s dvije vrijednosti:

r â€“ udaljenost od ishodiÅ¡ta

Î¸ (teta) â€“ kut u odnosu na x-os

Dakle, umjesto da kaÅ¾eÅ¡ "toÄka je na (x=3, y=3)", moÅ¾eÅ¡ reÄ‡i:
"toÄka je 4.24 jedinice od ishodiÅ¡ta, pod kutem 45Â°".

Tu dakle kut (Î¸) odreÄ‘uje orijentaciju, a r odreÄ‘uje poziciju po udaljenosti.

Sferne (ili cilindriÄne) koordinate (3D sluÄaj)

U robotici se Äesto koristi sferni ili cilindriÄni koordinatni sustav â€” proÅ¡irenje polarnog sustava u 3D.

CilindriÄne koordinate (r, Î¸, z):

r â€“ udaljenost od osi (kao radijus)

Î¸ â€“ kut oko osi (rotacija)

z â€“ visina (kao u kartezijskom sustavu)

â†’ Koristi se npr. kod polarnih robota â€“ imaju jedan rotacijski i dva translacijska zgloba.

Sferne koordinate (r, Î¸, Ï†):

r â€“ udaljenost od ishodiÅ¡ta

Î¸ â€“ azimut (rotacija oko vertikalne osi)

Ï† â€“ elevacijski kut (nagib prema gore ili dolje)

â†’ Ovim sustavom definiraÅ¡ poloÅ¾aj toÄke u prostoru pomoÄ‡u rotacija i udaljenosti â€” zato i moÅ¾e izgledati kao da â€œodreÄ‘uje rotaciju po osimaâ€.

U kontekstu robotike:

Polarne, cilindriÄne i sferne koordinate se koriste za:

kinematiku robota (raÄunanje poloÅ¾aja alata u prostoru)

upravljanje zglobovima koji se prirodno gibaju rotacijski

pretvorbu izmeÄ‘u koordinatnih sustava (npr. iz kartezijskog u robotski)

Dakle, nije da polarne koordinate direktno â€œrotiraju po osiâ€, nego one koriste kutove (rotacije) kao jedan od naÄina da opiÅ¡u poloÅ¾aj toÄke u prostoru.
Rotacije po osi su viÅ¡e stvar zglobova robota i Eulerovih kutova ili rotacijskih matrica â€” Å¡to je korak iznad samih koordinata.

Osnovni konstrukcijski elementi robota
Upravljanje robotskim manipulatorom => vezano uz problem planiranja putanje => generiranje referentnih ulaza u sustav upravljanja kretanjem manipulatora
Robot = mehaniÄki + energetski + senzorski sustav => nema sposobnost obavljanja odreÄ‘enog zadatka, nego nam treba upravljaÄki sustav koji preko pogona u zglobovima izvrÅ¡ava ciljano kretanje
Pogon pretvara elektriÄne upravljaÄke signale iz raÄunala u mehaniÄko kretanje
Kretanje robota se ostvaruje kretanjem svake upravljane koordinate zasebno
Zadatak upravljaÄke strukture robota => nadgledanje kretnji robota i usporedba s referentnim signalima u cilju detekcije pogreÅ¡aka kretanja
Signali pogreÅ¡aka => obraÄ‘uju se upravljaÄkim algoritmima i koriste se za upravljanje kretnjama robotskog manipulatora

Izbor pogona ovisi o:
DinamiÄkim svojstvima robota
TraÅ¾enoj toÄnosti
GraÄ‘i 
Konfiguraciji robota

Zadatak moÅ¾e biti:
IzvrÅ¡avanje zadanog kretanja manipulatora u slobodnom prostoru
IzvrÅ¡avanje zadanog kretanja i kontaktnih sila manipulatora Äiji vrh manipulatora dolazi u dodir s okolinom

2 aspekta
Upravljanje kretanjem u slobodnom prostoru => npr. profesor samo Å¡eÄ‡e po razredu simo-tamo
Interakcijsko upravljanje u ograniÄenom prostoru => npr. profesor Å¡eÄ‡e do televizije da bi je upalija na botun

Izbor strukture upravljanje ovisi o:
MehaniÄkoj strukturi manipulatora =>nije isto upravljati zglobovima ili pozicijom robota u prostoru

2 strukture upravljanja
UpravljaÄka struktura zglobovskog prostora => u kojem se obavljaju upravljaÄke radnje
UpravljaÄka struktura operacijskog prostora => u kojem se zadaju specifikacije odreÄ‘enih radnji (kretanje manipulatora i sile)

Problem upravljanja u zglobovskom prostoru
2 dijela
Problem inverzne kinematike manipulatora kako bi se transformiralo zahtijevano kretanje iz operacijskog prostora u zglobovski
Zatim se pristupa sintezi upravljaÄke strukture u zglobovskom prostoru => praÄ‡enje trajektorije
Problem: u upravljaÄkoj strukturi zglobovskog prostora nisu ukljuÄene varijable operacijskog prostora koje su upravljane unutar otvorenog kruga

Problem upravljanje u operacijskom prostoru
Velika sloÅ¾enost algoritma upravljanje
Inverzna kinematika je sada ugraÄ‘ena u upravljaÄku petlju povratne veze
Prednost: moguÄ‡nost da direktno djelujemo na varijable operacijskog prostora
Mjerenje varijabli ne obavlja se direktno, veÄ‡ kroz razvoj funkcija direktne kinematike poÄevÅ¡i od izmjerenih varijabli zglobovskog prostora

Komponente industrijskih robota:
UpravljaÄki sustav
Manipulator
Vrh manipulatora (alat/hvataljka)
Napajanje
RaÄunalo

UpravljaÄki sustav upravlja svim pokretima mehaniÄkog sustava
Jezgra je mikroprocesor koji je povezan s ulazom i izlazom i nadzornim ureÄ‘ajima
Naredbe aktiviraju regulaciju pokretnog mehanizma (regulacijski sustavi, pojaÄala i senzori)

U sustavima robotike, **upravljanje se obiÄno dijeli u tri hijerarhijske razine** koje zajedno Äine cjelinu â€” od planiranja ciljeva do preciznog kretanja motora. Evo kako to ide redom:

---

### **1. Glavna razina (eng. Supervisory / Task Level)**

Ovo je **â€œmozakâ€ robota** â€” razina koja donosi **odluke o zadacima** koje robot treba izvrÅ¡iti.
Na toj razini se odvija:

* planiranje zadataka i ponaÅ¡anja (npr. â€œidi do toÄke Bâ€, â€œdonesi predmetâ€)
* obrada senzorskih podataka visoke razine (kameri, lidar, karte prostora)
* komunikacija s korisnikom ili drugim robotima
* donoÅ¡enje odluka pomoÄ‡u AI-a, logike ili planera (npr. planiranje puta pomoÄ‡u A* ili Dijkstra algoritma)

ğŸ’¡ **Primjer:**
Mobilni robot odluÄuje da mora pokupiti objekt i odnijeti ga na stol. Ne bavi se joÅ¡ detaljima kretanja â€” samo zna *Å¡to* treba napraviti.

---

### **2. Razina upravljanja trajektorijom (eng. Trajectory Control / Path Planning Level)**

Ova razina prevodi **ciljeve iz glavne razine** u **konkretne putanje** koje robot mora slijediti.
Tu se definira **kako Ä‡e se robot kretati** â€” u smislu pozicija, brzina i ubrzanja tijekom vremena.

Zadatci ukljuÄuju:

* planiranje glatke trajektorije (izbjegavanje prepreka, ograniÄenja brzine)
* inverznu kinematiku (izraÄun zglobnih kutova za zadanu poziciju)
* sinkronizaciju viÅ¡e osi robota

ğŸ’¡ **Primjer:**
Ako glavni sloj kaÅ¾e â€œidi do toÄke Bâ€, ovaj sloj izraÄuna *putanju* kojom Ä‡e robot doÄ‡i do te toÄke â€” uz poÅ¡tivanje ograniÄenja brzine, zglobova, i bez sudara.

---

### **3. Razina upravljanja aktuatorima (eng. Actuator / Servo Level)**

To je **najniÅ¾a i najbrÅ¾a razina upravljanja** â€” direktna kontrola motora, serva i aktuatora.
Cilj joj je da stvarno *izvede* ono Å¡to su gornje razine planirale.

Na ovoj razini se odvija:

* regulacija poloÅ¾aja, brzine i momenta (PID regulatori)
* kompenzacija pogreÅ¡aka senzora
* brze petlje povratne veze (feedback control loop)

ğŸ’¡ **Primjer:**
Ako razina trajektorije kaÅ¾e â€œzakreni zglob 3 za 15Â° u 0.2 sâ€, ova razina brine da motor to toÄno napravi â€” glatko i precizno, bez previÅ¡e oscilacija.

---

### **Ukratko hijerarhija izgleda ovako:**

```
[ Glavna razina ]        â†’ Planiranje zadataka, odluke
        â†“
[ Upravljanje trajektorijom ] â†’ Planiranje kretanja, izraÄun putanja
        â†“
[ Upravljanje aktuatorima ]   â†’ Precizno izvrÅ¡avanje naredbi motora
```

---

Povratna veza => komunikacija koja omoguÄ‡ava da provjerimo dali je trenutna veliÄina ono Å¡to Å¾elimo ili ne
Npr. kad pojaÄavamo radio, povratna veza je uho koje vidi dali je preglasno ili ne

---

## ğŸ”¹ **1. Sustav s otvorenom petljom (Open-loop system)**

### **Definicija:**

To je sustav **bez povratne veze** â€” izlaz ne utjeÄe na ulaz.
Regulator (ili upravljaÄ) Å¡alje naredbu izvrÅ¡nom elementu (aktuatoru), ali **ne provjerava** je li Å¾eljeni rezultat stvarno postignut.

### **Shema:**

```
[UpravljaÄ] â†’ [Pogon / Proces] â†’ [Izlaz]
```

(Nema povratne veze!)

### **Karakteristike:**

* Nema mjerenja stvarnog izlaza.
* Nema korekcije pogreÅ¡ke.
* Jednostavan, jeftin i brÅ¾i jer nema senzora ni dodatne obrade.
* Osjetljiv na smetnje i promjene u sustavu.

### **Prednosti:**

âœ… Jednostavna konstrukcija
âœ… Manji troÅ¡ak
âœ… Nema problema sa stabilnoÅ¡Ä‡u jer nema povratne veze

### **Nedostaci:**

âŒ Nema korekcije â€“ ako doÄ‘e do pogreÅ¡ke, sustav ne zna
âŒ Osjetljiv na vanjske smetnje (temperatura, trenje, optereÄ‡enje)
âŒ Niska toÄnost

### **Primjer:**

* Mikrovalna peÄ‡nica: postaviÅ¡ 2 minute i ne pita se je li hrana stvarno zagrijana.
* Stroj koji sipa tekuÄ‡inu 5 sekundi bez provjere koliko je stvarno izlilo.

---

## ğŸ”¹ **2. Sustav sa zatvorenom petljom (Closed-loop system / Feedback control)**

### **Definicija:**

Ovdje se **izlaz mjeri i usporeÄ‘uje s referentnom vrijednoÅ¡Ä‡u**, a razlika (pogreÅ¡ka) se koristi za korekciju upravljaÄkog signala.
Drugim rijeÄima â€” sustav *sam sebe kontrolira* pomoÄ‡u povratne informacije.

### **Shema:**

```
         +--------------------------+
         â†“                          |
[Referenca] â†’ [Regulator] â†’ [Pogon] â†’ [Izlaz]
                     â†‘                 |
                     |                 |
                     +----[Senzor]-----+
```

### **Karakteristike:**

* Postoji **povratna veza** koja vraÄ‡a informaciju o stvarnom stanju sustava.
* Regulator neprestano raÄuna **pogreÅ¡ku** (error = Å¾eljeno â€“ stvarno).
* Cilj je minimizirati pogreÅ¡ku.

### **Prednosti:**

âœ… Visoka toÄnost
âœ… Sposobnost kompenzacije smetnji i promjena optereÄ‡enja
âœ… PoveÄ‡ana stabilnost i robusnost sustava

### **Nedostaci:**

âŒ SloÅ¾eniji i skuplji (senzori, elektronika)
âŒ MoÅ¾e postati nestabilan ako je loÅ¡e podeÅ¡en (npr. PID koeficijenti)
âŒ Sporiji odziv zbog obrade povratne informacije

### **Primjer:**

* Termostat u sobi: mjeri temperaturu i ukljuÄuje/iskljuÄuje grijanje da odrÅ¾i zadanu vrijednost.
* Servo motor u robotu: mjeri poloÅ¾aj i korigira napon dok ne postigne toÄan kut.

---

## ğŸ”¸ **Usporedna tablica**

| ZnaÄajka            | Otvorena petlja     | Zatvorena petlja                           |
| ------------------- | ------------------- | ------------------------------------------ |
| Povratna veza       | Nema                | Ima                                        |
| ToÄnost             | NiÅ¾a                | Visoka                                     |
| SloÅ¾enost           | Jednostavan         | SloÅ¾en                                     |
| TroÅ¡ak              | Manji               | VeÄ‡i                                       |
| Reakcija na smetnje | Nema korekcije      | Automatska korekcija                       |
| Stabilnost          | Stabilan po dizajnu | MoÅ¾e postati nestabilan ako se loÅ¡e podeÅ¡i |

---

### **Ukratko:**

* **Otvorena petlja** = *â€œizvrÅ¡i naredbu i ne gledaj rezultatâ€*
* **Zatvorena petlja** = *â€œizvrÅ¡i, izmjeri, usporedi, ispraviâ€*

---
Karakteristike robota s otvorenom reg. petljom:
Jeftiniji, jednostavniji za rad, precizan i pouzdan, jednostavan za odrÅ¾avanje, sposoban za rad na veÄ‡im brzinama, maleni, za rad je potreban samo jednostavan programski kod

Robot s zatvorenom regulacijskom petljom
Signal se vraÄ‡a kao povratna informacija i utjeÄe na izlaznu veliÄinu
Kod sustava za regulaciju gibanja gdje je potrebna preccizna regulacija poloÅ¾aja i brzine

Karakteristike:
skupi za nabavu, rad, odrÅ¾avanje
Sofistiricrani regulatori (zatvorena petlja)
Å irok raspon moguÄ‡nosti
Prijenos objekata s jedne toÄke na drugu (kao i duÅ¾ kontinuirane putanje)
Kompleksni programski kod za stabilan rad

sastoji se od regulatora i procesa
Upravlja se negazivnom povratnom vezom => Å¾elimo Äim bolje ppodudaranje ulazne xr i izlazne x veliÄine
xr => Å¾eÄejna vrijednost koja se naziva vodeÄ‡a veliÄina
x => stvarna vrijednost, regulirana veliÄina
Razlika izmeÄ‘u njih je regulacijsko odstupanje e
Na izlazu se formulira upravljaÄki signal ili postavna veliÄina u
Ona djeluje na ulaz procesa suprostavljajuÄ‡i se djelovanju poremeÄ‡ajne veliÄine d
Regulirana veliÄina se ponovno povratnom vezom vraÄ‡a na poÄetak sustava

Za ocjenu ponaÅ¡anja sustava koristei se POKAZATELJ KVALITETE UPRAVLJANJA
Najbitniji djelovi dijagrama:
PogreÅ¡ka u stacionarnom stanju (steady-state error) â†’ razlika izmeÄ‘u Å¾eljenog i stvarnog izlaza nakon Å¡to sustav dosegne ravnoteÅ¾u; pokazuje toÄnost regulacije.

NadviÅ¡enje (overshoot) â†’ koliko izlaz privremeno premaÅ¡i Å¾eljenu vrijednost tijekom prijelaza; mjeri stabilnost i priguÅ¡enost sustava.

Brzina odziva (response speed) â†’ koliko brzo sustav reagira na promjenu referentne vrijednosti ili smetnju; veÄ‡a brzina znaÄi agilniji robot.

Trajanje prijelazne pojave (settling time) â†’ vrijeme potrebno da izlaz ostane unutar dopuÅ¡tenog odstupanja oko zadane vrijednosti; pokazuje dinamiÄku stabilnost.

Oscilarnost (oscillation) â†’ stupanj titranja izlaza oko zadane vrijednosti; ukazuje na loÅ¡u priguÅ¡enost ili preveliku osjetljivost regulatora.

PogreÅ¡ka u stacionarnom stanju => (Å¾eljena vrijednost - stvarna vrijednost) / Å¾eljena vrijednost u postocima

Vrijeme porasta (rise time)

Definicija: Vrijeme potrebno da izlaz poraste od 10% do 90% svoje konaÄne vrijednosti nakon promjene referentnog signala.

ZnaÄenje: Pokazuje koliko brzo sustav poÄinje reagirati i pribliÅ¾ava se Å¾eljenoj vrijednosti.

Å½eljeno: Å to kraÄ‡e vrijeme porasta â†’ brÅ¾a reakcija robota.

Primjer: Ako robot dobije naredbu da pomakne ruku, rise time mjeri koliko mu treba da dosegne 90% Å¾eljenog poloÅ¾aja.

Vrijeme smirivanja (settling time)

Definicija: Vrijeme nakon kojeg izlaz ostane unutar odreÄ‘enog odstupanja (obiÄno Â±2% ili Â±5%) od Å¾eljene vrijednosti.

ZnaÄenje: Pokazuje koliko dugo traje prijelazna pojava prije nego Å¡to se sustav ustali.

Å½eljeno: Å to kraÄ‡e vrijeme smirivanja â†’ brÅ¾e i stabilnije upravljanje bez dugog titranja.

Primjer: Robot pomakne ruku i malo oscilira oko cilja â€“ settling time je trenutak kad prestane to titranje i pozicija se stabilizira.

Oscilarnost
Oscilarnost (oscillations / damping behavior)

Definicija:
Pojava periodiÄnog titranja izlaza oko zadane (referentne) vrijednosti tijekom prijelazne pojave.

ZnaÄenje:
Oscilarnost pokazuje koliko je sustav priguÅ¡en (damped). Ako je priguÅ¡enje premalo â€” izlaz titra previÅ¡e; ako je preveliko â€” sustav postaje spor.

Uzrok:
NajÄeÅ¡Ä‡e rezultat loÅ¡eg podeÅ¡avanja regulatora (npr. prevelik proporcionalni dobitak u PID-u) ili dinamiÄkih svojstava sustava (inercija, elastiÄnost, kaÅ¡njenja).

Å½eljeno:
Umjereno priguÅ¡en sustav â€” minimalne ili kontrolirane oscilacije bez prekomjernog titranja i bez presporog odziva.

Primjer:
Kad robotska ruka doÄ‘e blizu cilja i krene â€œdrhtatiâ€ oko toÄke pozicije â€“ to je oscilarnost zbog prejakog odziva regulatora.

Oscilarnost pokazuje koliko sustav titra prije nego se smiri â€” previÅ¡e oscilacija znaÄi nestabilnost, premalo znaÄi tromost.
Cilj je optimum: brzo reagirati, ali bez titranja.

---

# **ğŸ“˜ Cheatsheet: Vektori, Matrice i Tensori (Robotika Edition)**

## **1. Vektori**

Vektor je ureÄ‘ena lista brojeva koja opisuje smjer i veliÄinu.

### **Zapis**

```md
v = [vâ‚, vâ‚‚, vâ‚ƒ]      # 3D vektor
```

### **Osnovne operacije**

```md
v + u                 # zbrajanje (komponentno)
v âˆ’ u                 # oduzimanje
Î±v                    # mnoÅ¾enje skalara s vektorom
â€–vâ€– = sqrt(vÂ·v)       # norma (duljina)
v Â· u = âˆ‘ váµ¢uáµ¢        # skalarni produkt
v Ã— u                 # vektorski produkt (samo u 3D)
```

### **Vektorski produkt (bitan u robotici)**

```md
v Ã— u = [ 
  vâ‚‚uâ‚ƒ âˆ’ vâ‚ƒuâ‚‚,
  vâ‚ƒuâ‚ âˆ’ vâ‚uâ‚ƒ,
  vâ‚uâ‚‚ âˆ’ vâ‚‚uâ‚
]
```

---

## **2. Matrice**

Matrica je 2D struktura brojeva. U robotici se koriste za transformacije, rotacije, Jacobiane itd.

### **Zapis**

```md
A = [ aâ‚â‚  aâ‚â‚‚
      aâ‚‚â‚  aâ‚‚â‚‚ ]
```

### **Operacije nad matricama**

```md
A + B                   # zbrajanje istih dimenzija
A - B                   # oduzimanje
Î±A                      # mnoÅ¾enje skalara
Aáµ€                      # transponiranje
```

### **MnoÅ¾enje matrica**

Za A(mÃ—n) i B(nÃ—p):

```md
C = A Â· B               # rezultat je matrica dimenzije (mÃ—p)
Cáµ¢â±¼ = âˆ‘ Aáµ¢â‚– Bâ‚–â±¼
```

### **MnoÅ¾enje matrice i vektora**

```md
A (mÃ—n) Â· v (nÃ—1) = w (mÃ—1)
```

### **Determinanta**

```md
det(A)                  # mjeri koliko matrica "sklapa" prostor
```

Za 2Ã—2:

```md
det(A) = aâ‚â‚aâ‚‚â‚‚ - aâ‚â‚‚aâ‚‚â‚
```

### **Inverz**

Postoji samo ako det(A) â‰  0.

```md
Aâ»Â¹                     # matrica koja satisfies AÂ·Aâ»Â¹ = I
```

Za 2Ã—2:

```md
Aâ»Â¹ = (1/det(A)) [ aâ‚‚â‚‚  -aâ‚â‚‚
                  -aâ‚‚â‚   aâ‚â‚ ]
```

---

## **3. Tensori**

U robotici se pojavljuju kao:

* Jacobiani (ponekad viÅ¡edimenzionalni)
* transformacijske matrice u nizu
* dinamiÄki sustavi viÅ¡ih dimenzija

Tensor = generalizacija matrica.

### **Rang**

```md
skalar â†’ rang 0
vektor â†’ rang 1
matrica â†’ rang 2
tensor â†’ rang â‰¥3
```

### **Primjeri**

```md
T[i, j, k]              # 3D tensor
```

---

## **4. Posebne matrice u robotici**

### **Identitetska**

```md
I = [1 0 0
     0 1 0
     0 0 1]
```

### **Rotacijske matrice (oko osi)**

Ovo je must-know.

#### Oko x:

```md
Râ‚“(Î¸) = [
  1     0        0
  0   cosÎ¸   -sinÎ¸
  0   sinÎ¸    cosÎ¸
]
```

#### Oko y:

```md
Ráµ§(Î¸) = [
  cosÎ¸   0   sinÎ¸
    0    1    0
 -sinÎ¸  0   cosÎ¸
]
```

#### Oko z:

```md
R_z(Î¸) = [
  cosÎ¸  -sinÎ¸  0
  sinÎ¸   cosÎ¸  0
    0      0   1
]
```

---

## **5. Homogene transformacije (kljuÄ robotike)**

Za kombiniranje translacije i rotacije.

```md
T =
[ R  p ]
[ 0  1 ]
```

gdje je:

* R rotacijska matrica (3Ã—3)
* p vektor translacije (3Ã—1)

### **Primjeri**

Primjena transformacije:

```md
x_world = T Â· x_local
```

Sastavljanje transformacija:

```md
T_AB Â· T_BC = T_AC
```

---

## **6. Jacobiani (kratko i jasno)**

U robotici Jacobian povezuje:

```md
v = J(q)Â·qÌ‡            # brzine zglobova â†’ brzina krajnjeg efektora
```

Operacije koje moraÅ¡ znati:

```md
Jáµ€                    # koristi se u kontrolnim algoritmima
Jâº                   # pseudo-inverz za redundantne robote
```

---

## **7. Brza tablica za vjeÅ¾banje**

| Objekt  | Rang | Operacije                            |
| ------- | ---- | ------------------------------------ |
| Skalar  | 0    | +, -, Ã—, Ã·                           |
| Vektor  | 1    | +, -, dot, cross, norma              |
| Matrica | 2    | +, -, Ã—, transponiranje, det, inverz |
| Tensor  | â‰¥3   | indeksiranje, contraction, reshape   |

---


---

# **ğŸ“˜ Ortonormirani vektori**

* Skup vektora koji su **meÄ‘usobno ortogonalni** i **svaki ima normu 1**.
* ZnaÄi:

  ```md
  ráµ¢ Â· râ±¼ = 0     # za i â‰  j   (ortogonalnost)
  ráµ¢ Â· ráµ¢ = 1     # norma 1    (normalizirani)
  ```
* U robotici se koriste kao **osne jedinice lokalnog koordinatnog sustava**.

Primjer u 3D:

```md
râ‚, râ‚‚, râ‚ƒ su ortonormirani â‡” Äine bazu koordinatnog sustava.
```

---

# **ğŸ“˜ Matrica rotacije (râ‚, râ‚‚, râ‚ƒ)**

* Rotacijska matrica u 3D je:

  ```md
  R = [ râ‚  râ‚‚  râ‚ƒ ]
  ```
* Svaki stupac je jedan ortonormirani vektor:

  * râ‚ = smjer x-osi sustava
  * râ‚‚ = smjer y-osi
  * râ‚ƒ = smjer z-osi

Svojstva:

```md
Ráµ€R = I
det(R) = +1
stupci su ortonormirani
```

---

# **ğŸ“˜ U robotici â€” orijentacija alata**

Kad znaÅ¡ râ‚, râ‚‚, râ‚ƒ, znaÅ¡ kako je alat zakrenut u prostoru.

* R opisuje **nagib, rotaciju i zakretanje alata** u odnosu na bazni koordinatni sustav.
* Transformacija poloÅ¾aja alata:

  ```md
  p_world = R Â· p_tool + t
  ```
* ÄŒesto se piÅ¡e kao homogena transformacija:

  ```md
  T = [ R  t ]
      [ 0  1 ]
  ```

ZakljuÄak:

* **Stupci rotacijske matrice su tvoje osi alata.**
* Ako su ortonormirani, alat se ponaÅ¡a kako treba.
* Ako nisu, sustav je geometrijski nekonzistentan i robot Ä‡e "divljati".

Jasno Antonio. Evo Äiste natuknice bez introa.

---

# **Kinematska pretvorba unaprijed (Forward Kinematics)**

* Povezuje konfiguraciju robota ( q = [q_1, q_2, ..., q_n] ) s poloÅ¾ajem i orijentacijom alata.

* RaÄuna homogenu transformaciju od baze do efektora:

  ```md
  Tâ‚€â¿(q) = Tâ‚€Â¹(qâ‚) Â· TÂ¹Â²(qâ‚‚) Â· ... Â· Tâ¿â»Â¹â¿(qâ‚™)
  ```

* Svaka parcijalna transformacija:

  ```md
  Táµ¢â±âºÂ¹ =
  [ Ráµ¢â±âºÂ¹(qáµ¢)   páµ¢â±âºÂ¹(qáµ¢) ]
  [    0            1       ]
  ```

* Ako se koriste DH parametri:

  ```md
  Táµ¢â±âºÂ¹ =
  [ cosÎ¸áµ¢   -sinÎ¸áµ¢cosÎ±áµ¢   sinÎ¸áµ¢sinÎ±áµ¢   aáµ¢cosÎ¸áµ¢ ]
  [ sinÎ¸áµ¢    cosÎ¸áµ¢cosÎ±áµ¢  -cosÎ¸áµ¢sinÎ±áµ¢   aáµ¢sinÎ¸áµ¢ ]
  [   0          sinÎ±áµ¢         cosÎ±áµ¢      dáµ¢    ]
  [   0            0             0         1     ]
  ```

* Rezultat daje:

  ```md
  Râ‚€â¿(q)   # orijentacija alata
  pâ‚€â¿(q)   # poloÅ¾aj alata
  ```

Cilj je odredtiti nepoznatei poloÅ¾aj i orijentaciju vrha alata u odnosu na referentni mirni koordinatni sustav
RjeÅ¡avanje problema:
Definiranje desno orijentiranih koordinatnih sustava vrhu alata i svim zglobovima
KinematiÄki parametri:
Evo Äiste natuknice, bez uvoda.

---

# **KinematiÄki parametri zgloba**

* **Kut zgloba (Î¸)**

  * Varijabla kod rotacijskog zgloba.
  * Opisuje zakretanje oko osi zgloba.

* **Udaljenost zgloba (d)**

  * Varijabla kod translacijskog zgloba.
  * Opisuje pomak duÅ¾ osi zgloba.

* **Rotacijski zglob (revolute)**

  * Promjenjivi parametar: Î¸
  * Ostali DH parametri (a, Î±, d) konstantni.
  * Stvara rotaciju oko osi zgloba.

* **Translacijski zglob (prismatic)**

  * Promjenjivi parametar: d
  * Ostali DH parametri (a, Î±, Î¸) konstantni.
  * Stvara translaciju duÅ¾ osi zgloba.

Evo kratko i Äisto.


# **KinematiÄki parametri Älanka**

* **Duljina Älanka (a)**

  * Udaljenost izmeÄ‘u osi dvaju susjednih zglobova.
  * LeÅ¾i na zajedniÄkoj normalnoj izmeÄ‘u osi.
  * DH parametar koji odreÄ‘uje vodoravnu geometriju robota.

* **Zakret Älanka (Î±)**

  * Kut izmeÄ‘u osi dvaju susjednih zglobova.
  * Mjeri rotaciju oko duljine Älanka a.
  * Definira prostorno "uvijanje" izmeÄ‘u osi.


| Parametar             | Oznaka | ZnaÄenje                        | Varijabilnost                         |
| --------------------- | ------ | ------------------------------- | ------------------------------------- |
| **Kut zgloba**        | Î¸áµ¢     | Rotacija oko osi zgloba záµ¢      | Varijabilan kod rotacijskog zgloba    |
| **Udaljenost zgloba** | dáµ¢     | Translacija duÅ¾ osi zgloba záµ¢   | Varijabilan kod translacijskog zgloba |
| **Duljina Älanka**    | aáµ¢     | Udaljenost izmeÄ‘u osi záµ¢ i záµ¢â‚Šâ‚ | ObiÄno konstantna                     |
| **Zakret Älanka**     | Î±áµ¢     | Kut izmeÄ‘u osi záµ¢ i záµ¢â‚Šâ‚ oko aáµ¢ | ObiÄno konstantan                     |


---

# **Denavitâ€“Hartenbergova metoda**

**Å to je to?**

* Standardizirani postupak za opisivanje geometrije robota.
* Svakom zglobu i Älanku dodjeljujeÅ¡ 4 parametra: ( Î¸, d, a, Î± ).
* Daje konzistentan naÄin slaganja transformacija ( T_i^{i+1} ).

---

# **ZaÅ¡to se koristi?**

* Jedinstveni format za modeliranje robota.
* OlakÅ¡ava izraÄun forward kinematike.
* Jednostavno se pretvara u homogenu transformaciju.
* Standard u svim udÅ¾benicima, laboratorijima i industriji.
* OmoguÄ‡uje postupno graÄ‘enje: Älanak po Älanak.

---

# **Kako se implementira (koraci)?**

1. **Odaberi osi zgloba**

   * Za svaki zglob definira se os ( z_i ) (os rotacije ili translacije).

2. **Definiraj zajedniÄku normalu**

   * PronaÄ‘i najkraÄ‡u liniju koja povezuje osi ( z_i ) i ( z_{i+1} ).
   * To je smjer osi ( x_i ).

3. **Izmjeri DH parametre**

   * ( Î¸_i ): kut oko ( z_i )
   * ( d_i ): pomak uz ( z_i )
   * ( a_i ): duljina zajedniÄke normale
   * ( Î±_i ): kut oko ( x_i ), zakret Älanka

4. **SloÅ¾i transformaciju**
   Koristi standardnu DH matricu:

   ```md
   Táµ¢â±âºÂ¹ =
   [ cosÎ¸áµ¢   -sinÎ¸áµ¢cosÎ±áµ¢   sinÎ¸áµ¢sinÎ±áµ¢   aáµ¢cosÎ¸áµ¢ ]
   [ sinÎ¸áµ¢    cosÎ¸áµ¢cosÎ±áµ¢  -cosÎ¸áµ¢sinÎ±áµ¢   aáµ¢sinÎ¸áµ¢ ]
   [   0          sinÎ±áµ¢         cosÎ±áµ¢      dáµ¢    ]
   [   0            0             0         1     ]
   ```

5. **PomnoÅ¾i sve transformacije**

   ```md
   Tâ‚€â¿ = Tâ‚€Â¹ Â· TÂ¹Â² Â· ... Â· Tâ¿â»Â¹â¿
   ```

   Rezultat je poloÅ¾aj i orijentacija krajnjeg efektora.

---

# **KljuÄne stavke**

* Zglob â†’ os ( z_i )
* ÄŒlanak â†’ os ( x_i )
* 4 DH parametra po Älanku
* Jedna homogena transformacija za svaki segment
* MnoÅ¾i se redom od baze do alata
* Daje jasan i univerzalan model robota

---

---

# **Matrica manipulatora s R(q), p(q), v i Ïƒ**

* Orijentacija alata:

  ```md
  R(q)   # 3Ã—3 rotacijska matrica
  ```

* PoloÅ¾aj vrha alata:

  ```md
  p(q)   # 3Ã—1 vektor poloÅ¾aja
  ```

* Vektor perspektive (najÄeÅ¡Ä‡e):

  ```md
  v = [0 0 0]áµ€
  ```

* Koeficijent skaliranja:

  ```md
  Ïƒ     # skalira translacijski dio
  ```

---

# **OpÄ‡i oblik matrice manipulatora**

```md
J =
[ Ïƒ R(q)     0 ]
[  0       R(q) ]
```

* **Gornji blok**: utjecaj zglobova na translacijski dio (skaliran s Ïƒ).
* **Donji blok**: utjecaj zglobova na rotaciju alata.
* R(q) se koristi zbog pretvaranja iz koordinatnog sustava alata u bazni sustav.

---

# **Ako se koristi p(q) i v**

U zadacima gdje se definira transformacija toÄke kroz orijentaciju i perspektivu:

```md
x(q) = Ïƒ R(q) (p(q) âˆ’ v)
```

Diferencijacija daje Jacobian:

```md
áº‹ = Ïƒ R(q) J_p qÌ‡ + Ïƒ á¹˜(q)(p(q) âˆ’ v)
```

gdje je:

* ( J_p ) Jacobian poloÅ¾aja
* ( á¹˜(q) = R(q) S(Ï‰) ) (S je matrica kriÅ¾nog produkta)

---

# **KljuÄne stavke**

* R(q) odreÄ‘uje orijentaciju koordinatnog sustava alata.
* p(q) odreÄ‘uje poziciju vrha alata.
* v je referentna toÄka u prostoru.
* Ïƒ skalarno mijenja doprinos translacije (perspektiva / projekcija / skaliranje).
* Matrica manipulatora nastaje diferenciranjem zadane funkcije pozicije-orijentacije. + mnoÅ¾enjem svih n transformacijskih matrica

Evo ti Äisto, kratko i spremno za skriptu.

---

# **Kinematska pretvorba unaprijed â€“ troosni planarni manipulator (3R planar)**

## **Cilj**

Dobiti jednadÅ¾be poloÅ¾aja vrha alata:

```md
p(q) = [ x(q) 
         y(q) ]
```

Orijentacija u planaru je samo jedan kut:

```md
Ï†(q) = Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ
```

---

# **1. Geometrijska metoda**

Za planarni robot s Älancima ( aâ‚, aâ‚‚, aâ‚ƒ ) i kutovima ( Î¸â‚, Î¸â‚‚, Î¸â‚ƒ ):

```md
x = aâ‚ cosÎ¸â‚ + aâ‚‚ cos(Î¸â‚ + Î¸â‚‚) + aâ‚ƒ cos(Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ)
y = aâ‚ sinÎ¸â‚ + aâ‚‚ sin(Î¸â‚ + Î¸â‚‚) + aâ‚ƒ sin(Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ)
Ï† = Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ
```

Ovo je konaÄna jednadÅ¾ba forward kinematike.

---

# **2. DH metoda**

Standardni DH parametri za 3R planar:

| i | Î¸áµ¢ | dáµ¢ | aáµ¢ | Î±áµ¢ |
| - | -- | -- | -- | -- |
| 1 | Î¸â‚ | 0  | aâ‚ | 0  |
| 2 | Î¸â‚‚ | 0  | aâ‚‚ | 0  |
| 3 | Î¸â‚ƒ | 0  | aâ‚ƒ | 0  |

Transformacija po Älanku:

```md
Táµ¢â±âºÂ¹ =
[ cosÎ¸áµ¢  -sinÎ¸áµ¢   0   aáµ¢cosÎ¸áµ¢ ]
[ sinÎ¸áµ¢   cosÎ¸áµ¢   0   aáµ¢sinÎ¸áµ¢ ]
[   0       0     1      0    ]
[   0       0     0      1    ]
```

Ukupna transformacija:

```md
Tâ‚€Â³ = Tâ‚€Â¹ TÂ¹Â² TÂ²Â³
```

Iz Tâ‚€Â³ uzmeÅ¡:

* gornja dva reda zadnji stupac â†’ ( x, y )
* rotacijski dio â†’ kut ( Ï† )

Rezultat je ista jednadÅ¾ba kao u geometrijskoj metodi.

---

# **JednadÅ¾ba koju Å¾eliÅ¡ dobiti (konaÄni oblik)**

```md
p(q) =
[ aâ‚ cosÎ¸â‚ + aâ‚‚ cos(Î¸â‚ + Î¸â‚‚) + aâ‚ƒ cos(Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ) ]
[ aâ‚ sinÎ¸â‚ + aâ‚‚ sin(Î¸â‚ + Î¸â‚‚) + aâ‚ƒ sin(Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ) ]

Ï† = Î¸â‚ + Î¸â‚‚ + Î¸â‚ƒ
```

Zglobovi u robotici se numeriraju od dna (tamo di je baza)
Po defaultu kreÄ‡emo od 1, ali moremo se prebacit i na to da poÄinjemo od 0


Inverzna kinematika robota
Inverzna kinematika (IK) = raÄunanje kutova zglobova da krajnja toÄka robota doÄ‘e na Å¾eljenu poziciju i orijentaciju.

Suprotno od direktne kinematike, gdje se iz poznatih kutova raÄuna poloÅ¾aj krajnje toÄke.

Problemi IK:

ViÅ¡estruka rjeÅ¡enja (npr. lakat gore/dolje)

Singularnosti (gubi se sloboda kretanja u odreÄ‘enim poloÅ¾ajima)

Nerealna rjeÅ¡enja (kutovi izvan fiziÄkih ograniÄenja)

Nelinearnost jednadÅ¾bi â†’ Äesto treba numeriÄko rjeÅ¡enje

Primjena: robotske ruke, manipulatori, humanoidni roboti, CNC strojevi.


OBIÄŒNA VS INVERZNA KINEMATIKA:

- ObiÄna/direktna kinematika: ZnaÅ¡ kutove â†’ izraÄunaÅ¡ gdje se alat/efektor nalazi.

- Inverzna kinematika: ZnaÅ¡ gdje Å¾eliÅ¡ da alat/efektor bude â†’ izraÄunaÅ¡ koje kutove zglobova trebaÅ¡ da ga dovedeÅ¡ tamo.

Dinamika robota
Potrebno za: projektiranje konstrukcije robota, dimenzioniranje pogona zglobova, modeliranje i simuliranje robota, projektiranje sustava pravljanje robota

Lagrange-Eulerov model
Newton-Eulerov (rekurzivno)

Lagrangian => koristi Äesticu mase, kinetiÄku energiju, potencijalnu energiju, 2. newtonov zakon => jednadÅ¾ba za prvi stupanj slobode gibanja
Prva derivacija od x je brzina
Druga derivacija od x je akceleracija

Lagrange eulerova jednadÅ¾ba za poopÄ‡ene koordinate sustava s n stupnjeva slobode gibanja
+ jednadÅ¾ba za i-ti zglob


---

## ğŸ”¹ Sustav s *n* stupnjeva slobode

Pretpostavi da imaÅ¡ robotski manipulator s **n zglobova** â€” recimo rotacijskih ili translacijskih.
Onda definiramo **poopÄ‡ene koordinate**:
[
q = [q_1, q_2, ..., q_n]^T
]
gdje je ( q_i ) kut ili pomak koji opisuje poloÅ¾aj *i-tog* zgloba.

---

## ğŸ”¹ Lagrangeova jednadÅ¾ba opÄ‡enito

Polazi se od **Lagrangeove funkcije**:
[
L = T - V
]
gdje su:

* ( T ) â€” **kinetiÄka energija** sustava,
* ( V ) â€” **potencijalna energija** sustava.

---


---

## ğŸ”¹ 1. KINETIÄŒKA ENERGIJA ROBOTA â€” ( T )

KinetiÄka energija opisuje **energiju gibanja svih dijelova manipulatora**, dakle i translacijsku i rotacijsku komponentu.

Za svaki link ( i ) vrijedi:

[
T_i = \frac{1}{2} m_i v_{c_i}^T v_{c_i} + \frac{1}{2} \omega_i^T I_i \omega_i
]

gdje je:

* ( m_i ) â€“ masa i-tog linka,
* ( v_{c_i} ) â€“ brzina teÅ¾iÅ¡ta tog linka,
* ( \omega_i ) â€“ kutna brzina linka,
* ( I_i ) â€“ inercijska matrica linka (u koordinatnom sustavu teÅ¾iÅ¡ta).

Ukupna kinetiÄka energija cijelog robota je:

[
T = \sum_{i=1}^{n} T_i
]

Ako koristiÅ¡ **poopÄ‡ene koordinate** ( q, \dot{q} ), moÅ¾eÅ¡ sve to napisati elegantno kao:

[
\boxed{ T = \frac{1}{2} \dot{q}^T M(q) \dot{q} }
]

gdje ( M(q) ) je **inercijska matrica** koja ovisi o konfiguraciji robota (zbog geometrije i poloÅ¾aja linkova).

---

## ğŸ”¹ 2. POTENCIJALNA ENERGIJA ROBOTA â€” ( V )

Potencijalna energija dolazi uglavnom od **gravitacije** (ponekad i opruga ako ih ima, ali to je rijetko kod manipulatora).

Za svaki link ( i ):

[
V_i = m_i g^T h_i
]

ili jednostavnije (ako uzmemo ( g ) prema dolje i ( z ) kao visinu):

[
V_i = m_i g h_i
]

gdje je:

* ( h_i ) â€“ visina teÅ¾iÅ¡ta linka u odnosu na referentnu ravninu,
* ( g ) â€“ gravitacijsko ubrzanje (obiÄno 9.81 m/sÂ²).

Ukupna potencijalna energija:

[
\boxed{ V = \sum_{i=1}^{n} m_i g h_i }
]

---

## ğŸ”¹ 3. Spojeno u Lagrangeovu funkciju

Sad imaÅ¡ sve da definiraÅ¡ **Lagrangian**:

[
\boxed{ L(q, \dot{q}) = T(q, \dot{q}) - V(q) }
]

I kad ubaciÅ¡ to u Lagrangeovu jednadÅ¾bu:

[
\frac{d}{dt}\left(\frac{\partial L}{\partial \dot{q}_i}\right) - \frac{\partial L}{\partial q_i} = \tau_i
]

dobijeÅ¡ **jednadÅ¾be gibanja** robota za svaki zglob.

---

## ğŸ”¹ 4. Intuicija

* ( T ) ti â€œosjeÄ‡aâ€ kako se masa rasporeÄ‘uje i kako se zglobovi gibaju.
* ( V ) ti govori koliko energije sustav ima zbog visine (gravitacije).
* Kad sustav mijenja konfiguraciju, razlika meÄ‘u njima definira potrebne momente ( \tau ).

---



Za svaki i-ti zglob, vrijedi **Lagrange-Eulerova jednadÅ¾ba**:

[
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{q}_i} \right) - \frac{\partial L}{\partial q_i} = \tau_i
]

gdje je:

* ( \dot{q}_i ) â€” brzina i-tog zgloba,
* ( \tau_i ) â€” **poopÄ‡ena sila** ili moment (npr. moment koji aktuator daje tom zglobu).

---

## ğŸ”¹ MatriÄni oblik za cijeli manipulator

Kad to napiÅ¡emo za svih ( n ) zglobova, dobijemo **kompaktnu matriÄnu jednadÅ¾bu gibanja robota**:

[
\boxed{ M(q),\ddot{q} + C(q, \dot{q}),\dot{q} + g(q) = \tau }
]

Evo Å¡to znaÄi svaki pojam:

* ( M(q) ) â€” **masa/inercijska matrica** (nÃ—n),
* ( C(q, \dot{q}) ) â€” **Coriolis i centripetalni Älanovi**,
* ( g(q) ) â€” **gravitacijski momenti**,
* ( \tau ) â€” vektor ulaznih **momenta zglobova** (Å¡to Å¡alje kontroler/aktuator).

---

## ğŸ”¹ Za i-ti zglob posebno

Ako izdvojiÅ¡ samo i-tu komponentu, dobivaÅ¡:

[
\sum_{j=1}^{n} M_{ij}(q),\ddot{q}*j + \sum*{j=1}^{n} C_{ij}(q, \dot{q}),\dot{q}_j + g_i(q) = \tau_i
]

Dakle:

* prvi Älan predstavlja **inercijske efekte**,
* drugi Älan **Coriolis/centrifugalne interakcije meÄ‘u zglobovima**,
* treÄ‡i Älan **gravitaciju**,
* desna strana **moment na i-tom zglobu**.

---

## ğŸ”¹ Intuicija zaÅ¡to je to korisno u robotici

Lagrange-Euler pristup:

* radi s **skalarnim energijama**, Å¡to je puno elegantnije nego sa svim silama i momentima pojedinaÄno;
* omoguÄ‡uje lako **simboliÄko izvoÄ‘enje** modela (npr. pomoÄ‡u Python SymPy, MATLAB, ili Maple);
* i najvaÅ¾nije:
  izravno vodi do **kontrolnih zakona** u robotici, npr. *computed torque control*, *inverse dynamics control*, itd.

---


---

## ğŸ”¹ 1. KINETIÄŒKA ENERGIJA ROBOTA â€” ( T )

KinetiÄka energija opisuje **energiju gibanja svih dijelova manipulatora**, dakle i translacijsku i rotacijsku komponentu.

Za svaki link ( i ) vrijedi:

[
T_i = \frac{1}{2} m_i v_{c_i}^T v_{c_i} + \frac{1}{2} \omega_i^T I_i \omega_i
]

gdje je:

* ( m_i ) â€“ masa i-tog linka,
* ( v_{c_i} ) â€“ brzina teÅ¾iÅ¡ta tog linka,
* ( \omega_i ) â€“ kutna brzina linka,
* ( I_i ) â€“ inercijska matrica linka (u koordinatnom sustavu teÅ¾iÅ¡ta).

Ukupna kinetiÄka energija cijelog robota je:

[
T = \sum_{i=1}^{n} T_i
]

Ako koristiÅ¡ **poopÄ‡ene koordinate** ( q, \dot{q} ), moÅ¾eÅ¡ sve to napisati elegantno kao:

[
\boxed{ T = \frac{1}{2} \dot{q}^T M(q) \dot{q} }
]

gdje ( M(q) ) je **inercijska matrica** koja ovisi o konfiguraciji robota (zbog geometrije i poloÅ¾aja linkova).

---

## ğŸ”¹ 2. POTENCIJALNA ENERGIJA ROBOTA â€” ( V )

Potencijalna energija dolazi uglavnom od **gravitacije** (ponekad i opruga ako ih ima, ali to je rijetko kod manipulatora).

Za svaki link ( i ):

[
V_i = m_i g^T h_i
]

ili jednostavnije (ako uzmemo ( g ) prema dolje i ( z ) kao visinu):

[
V_i = m_i g h_i
]

gdje je:

* ( h_i ) â€“ visina teÅ¾iÅ¡ta linka u odnosu na referentnu ravninu,
* ( g ) â€“ gravitacijsko ubrzanje (obiÄno 9.81 m/sÂ²).

Ukupna potencijalna energija:

[
\boxed{ V = \sum_{i=1}^{n} m_i g h_i }
]

---

## ğŸ”¹ 3. Spojeno u Lagrangeovu funkciju

Sad imaÅ¡ sve da definiraÅ¡ **Lagrangian**:

[
\boxed{ L(q, \dot{q}) = T(q, \dot{q}) - V(q) }
]

I kad ubaciÅ¡ to u Lagrangeovu jednadÅ¾bu:

[
\frac{d}{dt}\left(\frac{\partial L}{\partial \dot{q}_i}\right) - \frac{\partial L}{\partial q_i} = \tau_i
]

dobijeÅ¡ **jednadÅ¾be gibanja** robota za svaki zglob.

---

## ğŸ”¹ 4. Intuicija

* ( T ) ti â€œosjeÄ‡aâ€ kako se masa rasporeÄ‘uje i kako se zglobovi gibaju.
* ( V ) ti govori koliko energije sustav ima zbog visine (gravitacije).
* Kad sustav mijenja konfiguraciju, razlika meÄ‘u njima definira potrebne momente ( \tau ).

---


---

## ğŸ”¹ 1. Centar mase (CoM)

Za kruto tijelo s raspodjelom mase ( \rho(\mathbf{r}) ), **centar mase** (teÅ¾iÅ¡te) definiran je kao:

[
\mathbf{r}_c = \frac{1}{m} \int_V \rho(\mathbf{r}) , \mathbf{r} , dV
]

gdje je:

* ( m = \int_V \rho(\mathbf{r}) , dV ) â€” ukupna masa tijela,
* ( \mathbf{r} ) â€” vektor poloÅ¾aja neke toÄke unutar tijela,
* ( V ) â€” volumen tijela.

ğŸ‘‰ U praksi, u robotici obiÄno **poznajeÅ¡** centar mase svakog linka (iz CAD modela ili proizvoÄ‘aÄke specifikacije), pa ne raÄunaÅ¡ integral ruÄno.

---

## ğŸ”¹ 2. Tenzor inercije ( I )

Tenzor inercije opisuje **otpornost tijela na rotaciju** oko neke osi.
Definiran je integriranjem po volumenu:

[
I = \int_V \rho(\mathbf{r}) \left( |\mathbf{r}|^2 E - \mathbf{r} \mathbf{r}^T \right) dV
]

gdje je:

* ( E ) â€” jediniÄna matrica (3Ã—3),
* ( \mathbf{r} ) â€” vektor poloÅ¾aja elementa mase u odnosu na os rotacije.

MatriÄno:
[
I =
\begin{bmatrix}
I_{xx} & -I_{xy} & -I_{xz} \
-I_{yx} & I_{yy} & -I_{yz} \
-I_{zx} & -I_{zy} & I_{zz}
\end{bmatrix}
]

Komponente su:
[
\begin{aligned}
I_{xx} &= \int_V \rho(y^2 + z^2) , dV \
I_{yy} &= \int_V \rho(x^2 + z^2) , dV \
I_{zz} &= \int_V \rho(x^2 + y^2) , dV \
I_{xy} &= \int_V \rho(xy) , dV \quad \text{itd.}
\end{aligned}
]

ğŸ’¡ Intuitivno:

* ( I_{xx}, I_{yy}, I_{zz} ) â€” "glavni momenti inercije"
* ( I_{xy}, I_{xz}, I_{yz} ) â€” "produkti inercije" (koliko se rotacije oko osi meÄ‘usobno mijeÅ¡aju).

---

## ğŸ”¹ 3. Kutna brzina i veza s translacijskim brzinama

Za **rotaciju** tijela vrijedi:

[
\mathbf{v} = \boldsymbol{\omega} \times \mathbf{r}
]

ili matriÄno (ako koristimo antisimetriÄnu matricu ( [\boldsymbol{\omega}]_\times )):

[
\mathbf{v} = [\boldsymbol{\omega}]_\times \mathbf{r}
]

gdje:
[
[\boldsymbol{\omega}]_\times =
\begin{bmatrix}
0 & -\omega_z & \omega_y \
\omega_z & 0 & -\omega_x \
-\omega_y & \omega_x & 0
\end{bmatrix}
]

Ovo je osnovna veza koja povezuje **kutnu** i **translacijsko** gibanje toÄaka unutar tijela.

---

## ğŸ”¹ 4. KinetiÄka energija preko tenzora inercije

KinetiÄka energija jednog linka s masom ( m_i ), kutnom brzinom ( \omega_i ) i brzinom teÅ¾iÅ¡ta ( v_{c_i} ):

[
T_i = \frac{1}{2} m_i v_{c_i}^T v_{c_i} + \frac{1}{2} \omega_i^T I_i \omega_i
]

ğŸ‘‰ Ako se teÅ¾iÅ¡te ne poklapa s osi rotacije, koristi se **Steinerov teorem (paralel axis theorem)**:

[
I_o = I_c + m , [d]^2
]

gdje je:

* ( I_o ) â€” moment inercije oko nove osi,
* ( I_c ) â€” moment inercije oko osi kroz teÅ¾iÅ¡te,
* ( d ) â€” udaljenost izmeÄ‘u osi.

---

## ğŸ”¹ 5. Derivacije i integrali u dinamici

Kad radiÅ¡ Lagrangeov pristup, deriviraÅ¡ prema vremenu:

[
\frac{d}{dt}\left( \frac{\partial T}{\partial \dot{q}_i} \right)
]

Tu nastaju sloÅ¾eni izrazi jer ( T ) ovisi i o ( q ) i o ( \dot{q} ), a u ( T ) su i:

* brzine ( v_{c_i} ) (dobivene Jacobianom: ( v_{c_i} = J_{v_i}(q) \dot{q} )),
* kutne brzine ( \omega_i = J_{\omega_i}(q) \dot{q} ).

Kad se sve to spoji, dobijeÅ¡ famoznu:
[
M(q)\ddot{q} + C(q, \dot{q})\dot{q} + g(q) = \tau
]

gdje sve one â€œderivacije i integraliâ€ iz T i V na kraju daju fino strukturiranu dinamiku.

---

## ğŸ”¹ 6. Intuicija u robotici

* **Tenzor inercije** govori koliko â€œotporanâ€ je link na promjenu rotacije.
* **Centar mase** odreÄ‘uje gdje djeluje teÅ¾ina i kako se momenti rasporeÄ‘uju.
* **( v = \omega \times r )** povezuje translaciju i rotaciju â€” ne moÅ¾eÅ¡ rotirati bez pomaka toÄaka u prostoru.
* I sve to se spaja u model gibanja koji upravlja sustavom robota.

---

---

## ğŸ”¹ 1. Moment inercije â€” Å¡to zapravo znaÄi?

Zamisli da rotiraÅ¡ tijelo oko neke osi.
**Moment inercije** ti kaÅ¾e **koliko je teÅ¡ko promijeniti tu rotaciju** â€” tj. koliko â€œotporaâ€ masa stvara na promjenu kutne brzine.

Formalno, za os rotacije (npr. x-os), moment inercije je:

[
I_{xx} = \int_V \rho(y^2 + z^2) , dV
]

Analogno:
[
I_{yy} = \int_V \rho(x^2 + z^2) , dV
]
[
I_{zz} = \int_V \rho(x^2 + y^2) , dV
]

gdje:

* ( \rho ) â€” gustoÄ‡a materijala,
* ( V ) â€” volumen tijela,
* ( (x, y, z) ) â€” koordinate toÄke u odnosu na centar mase ili neku os,
* ( dV ) â€” element volumena.

ğŸ‘‰ Intuicija: Å¡to je **viÅ¡e mase udaljeno od osi**, to je **moment inercije veÄ‡i**.
Zato ti je lakÅ¡e vrtit buÄicu oko svoje osi nego propeler.

---

## ğŸ”¹ 2. Produkti inercije â€” Å¡to su i Äemu sluÅ¾e?

Kad tijelo **nije simetriÄno**, masa se ne rasporeÄ‘uje jednako oko osi.
U tom sluÄaju pojavljuju se tzv. **produkti inercije**, koji â€œmijeÅ¡ajuâ€ osi meÄ‘u sobom:

[
I_{xy} = \int_V \rho , x y , dV
]
[
I_{xz} = \int_V \rho , x z , dV
]
[
I_{yz} = \int_V \rho , y z , dV
]

Intuitivno â€” oni govore **koliko gibanje oko jedne osi utjeÄe na moment oko druge**.
Ako su produkti inercije â‰  0 â†’ rotacije oko osi **nisu neovisne**.

---

## ğŸ”¹ 3. MatriÄni prikaz: Tenzor inercije

Sve to se skupi u **inercijski tenzor (matricu)**:

[
I =
\begin{bmatrix}
I_{xx} & -I_{xy} & -I_{xz} \
-I_{yx} & I_{yy} & -I_{yz} \
-I_{zx} & -I_{zy} & I_{zz}
\end{bmatrix}
]

Ova matrica je **simetriÄna** (( I_{xy} = I_{yx} ), itd.)
I koristi se u izrazu za **rotacijsku kinetiÄku energiju**:

[
T_{rot} = \frac{1}{2} \boldsymbol{\omega}^T I \boldsymbol{\omega}
]

---

## ğŸ”¹ 4. Glavne osi inercije

Za svako tijelo moÅ¾eÅ¡ pronaÄ‡i **glavne osi inercije** â€” to su osi oko kojih su produkti inercije nula.
Tada je matrica ( I ) dijagonalna:

[
I_{principal} =
\begin{bmatrix}
I_1 & 0 & 0 \
0 & I_2 & 0 \
0 & 0 & I_3
\end{bmatrix}
]

ğŸ’¡ To je kao da â€œporavnaÅ¡â€ tijelo s njegovim prirodnim smjerovima rotacije â€” tada su svi efekti â€œÄistiâ€, bez mijeÅ¡anja osi.

---

## ğŸ”¹ 5. U robotici

Kod robota:

* Svaki **link** ima svoj **tenzor inercije** izraÅ¾en u koordinatnom sustavu tog linka.
* Taj tenzor koristiÅ¡ da izraÄunaÅ¡ **inercijsku matricu** sustava ( M(q) ).
* Ako je robot simetriÄan oko osi zgloba (npr. cilindriÄni link), produkti inercije su Äesto **nula** â€” Å¡to jako pojednostavi dinamiku.

---

## ğŸ”¹ 6. Intuitivni primjer

Zamisli Å¡tap duljine ( L ), mase ( m ):

* Ako ga rotiraÅ¡ **oko centra**, moment inercije:
  [
  I = \frac{1}{12} m L^2
  ]

* Ako ga rotiraÅ¡ **oko kraja** (npr. zglob), koristiÅ¡ **Steinerov teorem**:
  [
  I = I_c + m d^2 = \frac{1}{12} m L^2 + m\left(\frac{L}{2}\right)^2 = \frac{1}{3} m L^2
  ]

Dakle vidiÅ¡, kad pomakneÅ¡ os dalje od mase â†’ moment inercije **naraste**.

---

## ğŸ”¹ 7. ZakljuÄak

| Pojam                                      | Formula                         | ZnaÄenje                             |
| ------------------------------------------ | ------------------------------- | ------------------------------------ |
| ( I_{xx}, I_{yy}, I_{zz} )                 | ( \int \rho (y^2+z^2) dV ) itd. | otpor rotaciji oko glavnih osi       |
| ( I_{xy}, I_{xz}, I_{yz} )                 | ( \int \rho xy,dV ), itd.       | spajaju osi (asimetrija mase)        |
| ( I )                                      | matrica inercije                | opisuje sve rotacijske efekte tijela |
| ( T_{rot} = \frac{1}{2}\omega^T I \omega ) |                                 | rotacijska kinetiÄka energija        |

---


More se ugrubo aproksimirat djelove robota kao geometrijska tijela
Tenzor inercije odreÄ‘uje se za svaki pojedini Älanak => matrice zenzora inercije

---

## ğŸ”¹ 1. Å to je Jacobianova matrica?

Jacobian (oznaÄava se obiÄno kao ( J(q) )) povezuje **brzine zglobova** robota sa **brzinama krajnjeg efektora** (npr. robotske ruke, alata, kamereâ€¦).

U najkraÄ‡em obliku:

[
\boxed{\dot{x} = J(q) , \dot{q}}
]

gdje:

* ( q = [q_1, q_2, ..., q_n]^T ) â€” poopÄ‡ene koordinate (zglobni kutovi, translacije),
* ( \dot{q} ) â€” brzine zglobova,
* ( x ) â€” poloÅ¾aj (i orijentacija) krajnjeg efektora u radnom prostoru,
* ( \dot{x} ) â€” brzina krajnjeg efektora (linearna + kutna).

---

## ğŸ”¹ 2. Intuitivno znaÄenje

Jacobian je **derivacija poloÅ¾aja s obzirom na zglobne varijable**:

[
J(q) = \frac{\partial x}{\partial q}
]

ZnaÄi: koliko Ä‡e se **krajnji efektor pomaknuti** ako malo promijeniÅ¡ **kutove zglobova**.
U suÅ¡tini, Jacobian je "osjetljivost" poloÅ¾aja prema zglobovima.

---

## ğŸ”¹ 3. Struktura Jacobiana

Za **6D manipulator** (3 translacijske + 3 rotacijske komponente), Jacobian izgleda ovako:

[
J(q) =
\begin{bmatrix}
J_v(q) \
J_\omega(q)
\end{bmatrix}
]

gdje:

* ( J_v ) â€” **linearni Jacobian** (veza izmeÄ‘u (\dot{q}) i linearne brzine),
* ( J_\omega ) â€” **kutni Jacobian** (veza izmeÄ‘u (\dot{q}) i kutne brzine).

---

## ğŸ”¹ 4. Formula za Jacobian po zglobovima

Za zglobove tipa **rotacijski** i **translacijski**, formule su razliÄite.

### ğŸ‘‰ Rotacijski zglob:

Ako je os rotacije ( \mathbf{z}_i ), a krajnji efektor u toÄki ( \mathbf{p}_e ):

[
\mathbf{J}_{v_i} = \mathbf{z}_i \times (\mathbf{p}_e - \mathbf{p}*i)
]
[
\mathbf{J}*{\omega_i} = \mathbf{z}_i
]

ZnaÄi:

* linearni dio dolazi od *kriÅ¾nog produkta osi rotacije i vektora do efektora*,
* kutna brzina je jednostavno os rotacije.

---

### ğŸ‘‰ Translacijski zglob:

Ako zglob ne rotira nego klizi (npr. prizmatiÄki zglob):

[
\mathbf{J}_{v_i} = \mathbf{z}*i
]
[
\mathbf{J}*{\omega_i} = 0
]

Jer prizmatiÄki zglob dodaje samo translaciju, bez rotacije.

---

## ğŸ”¹ 5. MatriÄni oblik Jacobiana

Za manipulator s ( n ) zglobova:

[
J =
\begin{bmatrix}
\mathbf{J}*{v_1} & \mathbf{J}*{v_2} & \cdots & \mathbf{J}*{v_n} \
\mathbf{J}*{\omega_1} & \mathbf{J}*{\omega_2} & \cdots & \mathbf{J}*{\omega_n}
\end{bmatrix}
]

Dakle â€” svaka kolona Jacobiana opisuje *doprinos i-tog zgloba* brzini krajnjeg efektora.

---

## ğŸ”¹ 6. Jacobian i sile

E sad dolazi ljepota: Jacobian ne povezuje samo **brzine**, nego i **sile**!
PomoÄ‡u transponirane forme:

[
\boxed{\tau = J^T(q) , F}
]

gdje:

* ( F ) â€” sile i momenti na efektoru,
* ( \tau ) â€” momente koje moraju proizvesti zglobni motori.

Dakle: Jacobian radi kao â€œenergetski mostâ€ izmeÄ‘u prostora sila (task space) i prostora zglobova (joint space).

---

## ğŸ”¹ 7. Jacobian i singulariteti

Kad ( \det(JJ^T) = 0 ), robot je u **singularnom poloÅ¾aju** â†’ izgubi slobodu gibanja (npr. ne moÅ¾e se pomicati u nekom smjeru).
To su vrlo vaÅ¾ni poloÅ¾aji kod planiranja gibanja i kontrolera.

---

## ğŸ”¹ 8. Jacobian u dinamici

Kad preÄ‘eÅ¡ u Lagrange-Euler jednadÅ¾be, Jacobian se koristi za:

* izraÅ¾avanje brzina teÅ¾iÅ¡ta linkova:
  ( v_{c_i} = J_{v_i}(q)\dot{q} )
* izraÅ¾avanje kutnih brzina:
  ( \omega_i = J_{\omega_i}(q)\dot{q} )
* Å¡to vodi do inercijske matrice:
  [
  M(q) = \sum_i \left( m_i J_{v_i}^T J_{v_i} + J_{\omega_i}^T I_i J_{\omega_i} \right)
  ]

Boom ğŸ’¥ â€” tu se Jacobian direktno uvezuje s masom i tenzorom inercije za cijeli manipulator.

---

## ğŸ”¹ 9. Intuitivni primjer (2R planarni manipulator)

Za ruku s dva rotacijska zgloba (kutovi ( q_1, q_2 ), duljine ( l_1, l_2 )):

[
\begin{aligned}
x &= l_1 \cos q_1 + l_2 \cos(q_1 + q_2) \
y &= l_1 \sin q_1 + l_2 \sin(q_1 + q_2)
\end{aligned}
]

Jacobian:

[
J(q) =
\begin{bmatrix}
-l_1 \sin q_1 - l_2 \sin(q_1 + q_2) & -l_2 \sin(q_1 + q_2) \
l_1 \cos q_1 + l_2 \cos(q_1 + q_2) &  l_2 \cos(q_1 + q_2)
\end{bmatrix}
]

i on povezuje:
[
\begin{bmatrix} \dot{x} \ \dot{y} \end{bmatrix} = J(q) \begin{bmatrix} \dot{q}_1 \ \dot{q}_2 \end{bmatrix}
]

---

## ğŸ”¹ 10. Ukratko

| Simbol                                   | Opis                                   |
| ---------------------------------------- | -------------------------------------- |
| ( J(q) = \frac{\partial x}{\partial q} ) | Jacobian â€” veza poloÅ¾ajâ€“zglob          |
| ( \dot{x} = J(q)\dot{q} )                | veza brzine efektoraâ€“zglobova          |
| ( \tau = J^T(q)F )                       | veza momentaâ€“sila                      |
| ( \det(JJ^T)=0 )                         | singularitet (gubitak slobode gibanja) |
| ( J_v, J_\omega )                        | linearni i kutni Jacobian              |

---

---

### ğŸ”§ OpÄ‡a forma dinamiÄke jednadÅ¾be manipulatora

Za manipulator s ( n ) stupnjeva slobode, dinamiÄki model se piÅ¡e ovako:

[
M(q)\ddot{q} + C(q, \dot{q})\dot{q} + G(q) + F(\dot{q}) = \tau
]

gdje je:

| ÄŒlan                     | ZnaÄenje                             | Tip sile/momenta                         |
| ------------------------ | ------------------------------------ | ---------------------------------------- |
| ( M(q)\ddot{q} )         | **Inercijalne sile i momenti**       | otpor promjeni gibanja (masa i inercija) |
| ( C(q, \dot{q})\dot{q} ) | **Coriolisove i centrifugalne sile** | efekti gibanja meÄ‘u Älancima             |
| ( G(q) )                 | **Utjecaj gravitacije**              | teÅ¾ina manipulatora                      |
| ( F(\dot{q}) )           | **Trenje u zglobovima**              | viskozno i statiÄko trenje               |
| ( \tau )                 | **Moment aktuatora**                 | ono Å¡to motori stvarno daju              |

---

### âš™ï¸ 1ï¸âƒ£ Inercijalne sile i momenti â†’ ( M(q)\ddot{q} )

* ( M(q) ) je **matrica inercije** (simetriÄna i pozitivno definitna).
* Ona opisuje kako raspodjela mase u robotu utjeÄe na njegovu otpornost promjeni gibanja.
* Ovisi o konfiguraciji ( q ) jer se raspored Älanaka mijenja.

ğŸ’¡ **Intuitivno:** ako ispruÅ¾iÅ¡ ruku, teÅ¾e ju je okrenuti nego kad ju savijeÅ¡ â€” jer se inercija promijenila!

---

### ğŸŒ€ 2ï¸âƒ£ Coriolisove i centrifugalne sile â†’ ( C(q, \dot{q})\dot{q} )

* Pojavljuju se kad se **viÅ¡e Älanaka giba istovremeno**.
* Coriolisov efekt = meÄ‘usobna interakcija kutnih brzina.
* Centrifugalni efekt = â€œodbacivanjeâ€ mase zbog rotacije.

ğŸ’¡ **Efekt u praksi:** kad robot brzo miÄe jednim zglobom, to moÅ¾e stvoriti dodatne momente na drugim zglobovima â€” i to moraÅ¡ kompenzirati!

---

### ğŸŒ 3ï¸âƒ£ Utjecaj sile teÅ¾e â†’ ( G(q) )

* Ovisi o **poloÅ¾aju manipulatora** i centru mase svakog Älanka.
* Predstavlja moment potreban za â€œdrÅ¾anjeâ€ manipulatora u poloÅ¾aju protiv gravitacije.

[
G(q) = \frac{\partial V(q)}{\partial q}
]
gdje je ( V(q) ) potencijalna energija od gravitacije.

ğŸ’¡ **Primjer:** ako manipulator stoji horizontalno, motor mora davati moment da â€œdrÅ¾iâ€ Älanke gore protiv teÅ¾ine.

---

### ğŸ§± 4ï¸âƒ£ Trenje â†’ ( F(\dot{q}) )

* Modelira **mehaniÄke gubitke** u zglobovima.
* MoÅ¾e ukljuÄivati:

  * **Viskozno trenje:** ( F_v \dot{q} )
  * **Coulombovo trenje:** ( F_c , \text{sign}(\dot{q}) )
  * Ponekad i **statiÄko trenje** (prag prije poÄetka gibanja)

ğŸ’¡ **Efekt:** bez trenja bi zglobovi â€œplesaliâ€ beskonaÄno â€” trenje ih stabilizira, ali i troÅ¡i energiju.

---

### âš¡ 5ï¸âƒ£ Moment aktuatora â†’ ( \tau )

* Ovo je **ono Å¡to tvoji motori stvarno proizvode**.
* U jednadÅ¾bi, to je *ono Å¡to mora nadvladati sve ostalo*:

[
\tau = M(q)\ddot{q} + C(q, \dot{q})\dot{q} + G(q) + F(\dot{q})
]

ğŸ’¡ **Interpretacija:** moment aktuatora mora savladati inerciju, meÄ‘usobne dinamiÄke interakcije, gravitaciju i trenje â€” sve u isto vrijeme.

---

Planiranje trajektorije
Putanja - krivulja u prostoru konfiguracije alata (toÄke u prostoru)
Ako je prolazak kroz toÄke putanje vremenski zadan, onda govorimo o trajektoriji (prostor + vrijeme)

2 osnovne metode planiranja trajektorije:
Od toÄke do toÄke (point to point, PTP)
Kontinuirano po putanju (continous path, CP)

Raspodjela brzine
Postoje ograniÄenja u max brzini i akceleraciji koju aktuator moÅ¾e postiÄ‡i
cilj: zadavanje najbrÅ¾eg prolaska putanje => 3 perioda planiranja trajektorije

0-t1 => period maksimalnog ubrzanja (jednoliko ubrzano gibanje) => brzina raste linearno s vremenom (ubrzanje je pozitivno)
t1-t2 => period maksimalne brzine (jednoliko gibanje), ubrzanje je 0, a brzina je konstantna
t1-t2 do tu (u je broj toÄaka) => period maksimalnog negativnog ubrzanja (usporavanja; jednoliko usporeno gibanje), brzina pada linearno s vremenom do zaustavljanja

Gibanje robota od toÄke do toÄke
Upravljanje u zglobovskom prostoru
npr. spot welding, buÅ¡enje, pick and place, ljepljenje etiketa
Princip rada:
pomak u zadanu poziciju
zaustavljanje u zadanoj poziciji
obavljanje zadataka (zavarivanje/hvatanje/itd)
odlazak u sljedeÄ‡u poziciju

Kod PTP (toÄka do toÄke) brzine i ubrzanje su nevaÅ¾na...bitna je samo zadana pozicija; koristimo putanju s najmanjim vremenom

2 naÄina upravljanja:
svaka os se giba svojom maksimalnom brzinom
sve osi robota istovremeno zavrÅ¡avaju gibanje => os koja ima najdulji put giba se maksimalnom brzinom, a ostale osi su usporene za omjer puta u odnosu na najdulju os (brÅ¾i zglobovi se gibaju sporije da uspijevaju pratit sporije)

Planiranje trajektorije metodom od toÄke do toÄke
ProraÄun profila brzina
Sinkronizacija gibanja po osima
IzraÄun pozicije zglobova
Ponavljanje za sljedeÄ‡u zadanu poziciju

Koraci: 
U raÄunalu: kinematska pretvorba unatrag (odredimo toÄke za doÄ‡i do cilja), izraÄun poloÅ¾aja toÄaka u koordinatama zglobova, planiranje trajektorije s obzirom na ograniÄenja
Onda: upravljaÄki ureÄ‘aj svakog zgloba kontrolira pogonske djelove robota i manipulatora unutar robota + poloÅ¾aj se prati senzorima


---


## **1ï¸âƒ£ IzraÄunaj osnovna vremena za svaku os**

* Za svaku os izraÄunaÅ¡:

  * **T1** â†’ vrijeme ubrzavanja
  * **TU** â†’ ukupno vrijeme kretanja te osi
* To radiÅ¡ prema zadanoj max brzini i max ubrzanju.

---

## **2ï¸âƒ£ Odaberi referentnu os (onu koja diktira tempo svima ostalima)**

* Normalno: **os s najveÄ‡im TU** postaje *referentna*.
* Ali!
  Ako **os s najveÄ‡im T1** nije ista kao ona s najveÄ‡im TU â†’
  onda:

  * za os s najveÄ‡im TU izraÄunaÅ¡:
    **T = TU - 2Â·T1**
  * tom vremenu dodaÅ¡ **2Â·T1_ref** (od referentne osi po ubrzanju)
  * i tako dobijeÅ¡ *novo ukupno referentno vrijeme* koje svi moraju pratiti.

*(Poanta: sve osi moraju zavrÅ¡iti **u isto vrijeme**, pa im tempom vlada ona koja najdulje traje.)*

---

## **3ï¸âƒ£ IzraÄunaj potrebne brzine drugih osi**

* U jednadÅ¾bu za ukupno vrijeme ubacujeÅ¡ *referentno ukupno vrijeme*.
* Time izvuÄeÅ¡ **koju brzinu svaka druga os treba koristiti** da bi stigla u isto vrijeme kao referentna.

---

## **4ï¸âƒ£ IzjednaÄi vremena ubrzavanja**

* Sve osi moraju imati **isto vrijeme ubrzavanja T1** kao referentna os.
* Ako neka os ne moÅ¾e to postiÄ‡i s originalnim a_max ili v_max â†’
  jednostavno joj preraÄunaÅ¡ ubrzanje tako da joj T1 postane **identiÄan** referentnom.

*(Dakle: svi diÅ¡u istim ritmom.)*

---

## **5ï¸âƒ£ Postavi dobivene brzine i ubrzanja, i provjeri kretanje preko enkodera**

* Svakoj osi zadaÅ¡:

  * brzinu koju si izraÄunao u koraku 3
  * ubrzanje iz koraka 4
* Na kraju provjeriÅ¡:

  * je li stvarni broj enkoderskih impulsa odgovarao oÄekivanom kutu/poloÅ¾aju

*(Å to ti je zapravo â€œclosed-loopâ€ provjera da sve osi stvarno jesu doÅ¡le gdje trebaju.)*

---
---

# ğŸ“Œ Å to znaÄi â€œistovremeni dolazak u ciljâ€ u robotici?

U kontekstu **upravljanja manipulatorima**, to obiÄno znaÄi:

* svaki zglob ima *svoju* dinamiku (inercija, trenje, gravitacijaâ€¦),
* ali svejedno Å¾eliÅ¡ da **svi spojevi** manipulatora
  **dovrÅ¡e svoju putanju u ISTO vrijeme**
  (npr. 2 sekunde od starta).

To se radi radi:

* glatke i sinkronizirane putanje,
* izbjegavanja mehaniÄkih trzaja,
* sigurnosti,
* toÄnosti krajnje efemeride (TCP-a).

---

# ğŸ“Œ Kako se to radi?

Koristi se neÅ¡to poput:

### **1) Pohranjene (offline) putanje**

Za svaki zglob se generira profil brzine/akceleracije tako da svi zavrÅ¡e u isto vrijeme.
NajÄeÅ¡Ä‡e:

* trapezoidni profil,
* S-curve profil,
* polinomi 5. i 7. reda.

### **2) Online prilagoÄ‘avanje vremena**

Tijekom izvrÅ¡avanja, kontroler prilagoÄ‘ava brzine pojedinih zglobova tako da nitko ne â€œpobjegneâ€ naprijed.

### **3) DinamiÄko planiranje â€“ Lagrange/Euler**

Kad ukljuÄiÅ¡ dinamiku (koje smo ranije spominjali), onda upravljanje ima zadatak kompenzirati:

* inercijske sile,
* Coriolis + centrifugalne sile,
* gravitaciju,
* trenje.

Da bi *unatoÄ* svemu tome stigao u cilj toÄno u isto vrijeme.

---

# ğŸ“Œ Kako se to povezuje s onime Å¡to smo priÄali?

Kad smo pisali:

* Lagrangeove jednadÅ¾be
* potencijalnu energiju
* Jacobian matrice
* torzijske sile
* Coriolis Älanove
* aktuatorske momente

ğŸ‘‰ *upravo svi ti dijelovi ulaze u formulu za kontrolu gibanja*
kako bi svaki zglob dobio â€œpravuâ€ snagu u â€œpravoâ€ vrijeme.

Bez toga, zglobovi bi stizali u cilj u razliÄita vremena jer ima:

* razliÄite mase,
* razliÄite duljine,
* razliÄite momente inercije,
* razliÄita trenja.

Zato ti robot mora biti *dinamiÄki otkompenziran* da bi imao savrÅ¡eno sinkrono kretanje.

---

# ğŸ“Œ Ukratko

**Da!** Metoda istovremenog dolaska u cilj je poveziva s kontrolom putanje i dinamiÄkim modeliranjem koje smo ranije prolazili. To je dio *trajectory planninga* i *time parametrizationa* u robotici.


Planiranje trajektorije kontinuirano
Ne zanimaju nas toliko zglobovi koliko samo vrh alata

Interpolirano gibanje
- krajnja i poÄetka toÄka + spojne toÄke (poÄetak, kraj i meÄ‘utoÄke)
Interpolacija izmeÄ‘u spojnih toÄaka kako bi se dobila glatka putanja s bar 2 neprekinute derivacije (izbjegavamo beskonaÄna ubrzanja/trzaje)
w(t) = At^3 + Bt^2 + Ct + D, 0 <t<T
T = vrijeme potrebno za prijelaz putanje


Mobilna robotika

viÅ¡e-robotski sustavi autonomnog ponaÅ¡anja
distributivna inteligencija

1) first gen roboti
Automatski ponavljaju zadane pokrete
Najbrojniji u tvornicama i pogonima
UpravljaÄki sustav prilagoÄ‘en ruÄnim operacijama
use-case: preÅ¡anje, zavarivanje

2) second gen roboti
MoguÄ‡nost snalaÅ¾enja u nepredvidivim prostorima => senzori
Od senzora dovibaju potrebne info
Orijentiranje i postupci u radnom prostoru su programirani
use-case: pokretna traka, montaÅ¾a, bojanje

3) third gen roboti
KoriÅ¡tenje brojnih senzora (neki su Äak redundantni da dobijemo kvalietniju sliku) i AI
Opremljeni raÄunalima i specijaliziranim programima
MoguÄ‡nost prepoznavanje okoline, analite uÄinaka i uÄenja na greÅ¡kama
Samostalno i inteligentno mijenjaju svoj naÄin rada kako bi se prilagodili uvjetima rada i okolini te na taj naÄin poboljÅ¡ati uÄinak

DISTRIBUIRANA INTELIGENCIJA => OVO JE LUDOOOOOO
Cool article: https://pmc.ncbi.nlm.nih.gov/articles/PMC7766450/pdf/entropy-22-01437.pdf
Sustavi entiteta koji zajedno suraÄ‘uju u svrhu planiranja, rjeÅ¡avanja problema, shvaÄ‡anju ideja i jezika te uÄenja
Entiteti u ovom sluÄaju mogu biti definirani kao bilo koji tip inteligentnog procesa ili sustava ukljuÄujuÄ‡i robote, smart senzore i sl.
Cilj: stvoriti sustave softverskih agenata, robota, senzora i raÄunalnih sustava koji mogu raditi zajedno s podjednakom razinom uÄinkovitosti i struÄnosti ko ljudi

ZaÅ¡to koristiti DI?
Visoka uÄinkovitost kod paralelizma
Svojstveno podijeljeni zadaci
PoveÄ‡ana robusnost kroz redundanciju
Jednostavniji dizajn robota


                 |------ DISTRIBUTED PROBLEM SOLVING
DISTRIBUTED AI -- 
                 |------ MULTI-AGENT SYSTEMS

VIÅ¡e-robotski sustavi
1980-ih
Koordinirani zadaci velike sloÅ¾enosti

2 kategorije:
Kolektivni sustavi roja
Namjerno kooperativni sustavi

Kolektivni sustavi roja (CSS)
Sustavi u kojima svaki robot izvrÅ¡ava svoj zadatak s minimalnim ili nikakvim znanjem o tome Å¡to rade drugi roboti unutar tog roja

Namjerno kooperativni sustavi (ICS)
Rade na principu namjernog kooperativnog sustava; imaju znanje o prisutnosti drugih robota u svojoj okolini i zajedno rade na rjeÅ¡avanju odreÄ‘enog zadatka ovisno o stanju, trenutnoj radnji i moguÄ‡nostima ostalih Älanova skupine

Jako kooperativni sustavi
Slabo kooperativni sustavi

Mobilni roboti => kopnena, zraÄna, podvodna vozila

Requirements:
Autonomno gibanje u nepoznatom prostoru
Obavljanje zadataka razliÄite sloÅ¾enosti
Interakcija s drugim robotima i ljudima
Samostalno uÄenje i zakljuÄivanje


Podjela robota s obzirom na vrstu lokomocije (kretanja)

Roboti s kotaÄima (wheeled)
Roboti s nogama (legged)
GusjeniÄari (tracked)
Zmijoliki (serpentine)

Ima joÅ¡:
Podjela robota s obzirom na vrstu terena koju savladavaju (unutarnji ili vanjski prostori)
Fleksibilnost tijela robota (jednotjelesni i viÅ¡etjelesni; s elastiÄnim ili krutim tijelom)
Oblik tijela robota (roboti s jednostavnom ili sloÅ¾enom strukturom; u obliku insekta i sl.)
Primjenu (edukacijski, istraÅ¾ivaÄki, usluÅ¾ni)
NaÄin nastanka (modernizirana stara vozila, nova vozila)

ZaÅ¡to koristiti multi-robotske sustave
Robusnost => ako 1 robot ne uspije, ostali ga zamjenjuju
Skalabilnost => dodavanje novih robota ukoliko zadatak/problem koji se pokuÅ¡ava rijeÅ¡iti postane veÄ‡i
Performanse => viÅ¡e robota Ä‡e u kraÄ‡em vremenu izvrÅ¡iti zadatak

Izazovi:
Upravljanje Äitavim sustavom
Nedostatak centraliziranog upravljanja
VeÄ‡i zahtjevi komunikacije
PoveÄ‡ana nesigurnost sustava

Izvedbe i rjeÅ¡enja => ovise o zahtjevima zadataka koji je potrebno rijeÅ¡iti, te o sposobnosti samog robota

Podjela viÅ¡e-robotskih sustava
Robotika roja (swarm) => npr. dron patrolira po fieldu; vidi smeÄ‡e, javi drugemu dronu da dojde poÄistit, a on nastavi patrolirat. Jedan robot sam more neÅ¡to jednostavno, a kad ih uparimo, moru kompleksne stvari
Rekonfigurabilni mobilni roboti => mobilne jednice koje neovisno promatraju prostor, i onda se ovisno o zadataku skupljaju i neÅ¡to delaju (cjeline su jaÄe nego pojedinaÄni robot)

Rekonfigurabilnost => mogu se spajati na viÅ¡e razliÄitih naÄina

Arhitektura mobilnih robotskih sustava

1) centralzirirana struktura => 1 robot koordinira cijelom skupinom robota iz 1 toÄke (svaki robot ima isti program na sebi i svaki od njih moÅ¾e biti upravljaÄki)
2) hijererhijska struktura => izvediva za neke sluÄajeve; svaki robot nadgleda radnje relativno male skupine robota, a svaki od tih robota nadgleda drugu skupinu robota
3) decentralizirana struktura => najÄeÅ¡Ä‡a u viÅ¡erobotskim sustavima; roboti izvrÅ¡avaju radnje samo na temelju lokalnog znanja o svojoj situaciji 
4) hibridna struktura => lokalno upravljanje + pristupi upravljanja na viÅ¡em nivou => robustnost i moguÄ‡nost utjecaja na robotske radnje cijelog sustava kroz: globane ciljeve, planiranje i upravljanje

Teorija mapiranja i istraÅ¾ivanja

SLAM => simultaneous localization and mapping

4 fundamentalne navigacijske radnje:

Senzori => LOKALIZACIJA => pozicija i orijentacija robota
Senzori => GRADNJA MAPE => mapa

Pozicija i orijentacija + mapa = Plan

Plan => PLANIRANJE PUTANJE => cilj
Plan => UPRAVLJANJE KRETANJEM => pogoni

Gradnja mape => konstruiramo mapu na temelju mjerenja i oÄitavanja senzora s razliÄitih lokacija
Lokalizacija => dobivanje info o stvarnoj lokaciji na temelju oÄitavanja senzora i trenutne mape
Planiranje putanje => proces generiranja izvodive i sigurne trajektorije temeljene na trenutnoj mapi (od trenutne lkacije do ciljne pozicije)
Upravljanje kretanjem => generiranje upravljaÄkih signala na pogone mobilnog tovota kojim se ostvaruje Å¾eljeno kretanje na temelju koriÅ¡tenog postupka planiranja kretanja

Gradnja mape prostora
Opisivanje prostora (svojstva i lokacije objekata u tom prostoru)
Mape u robotici dijele se na:
- metriÄke
- topoloÅ¡ke


**Metrika (metric maps)**
Ovdje robot ima informacije o *toÄnim udaljenostima* i *geometriji prostora*.
â€“ Svaka toÄka u prostoru ima jasnu poziciju (npr. u metrima).
â€“ Mapa prikazuje oblik okoline â€” zidovi, prepreke, hodnici, sve s realnim dimenzijama.
â€“ TipiÄni primjeri:
â€¢ **Occupancy grid** â€“ raster gdje svaka Ä‡elija kaÅ¾e je li zauzeta, slobodna ili nepoznata.
â€¢ **Point cloud** â€“ skup 3D toÄaka dobiven npr. LiDAR-om ili stereom.
â€¢ **OctoMap** â€“ hijerarhijska 3D reprezentacija prostora.

Prednosti: precizno planiranje putanje, optimalni (najkraÄ‡i) putevi.
Mane: memorijski teÅ¾e, zahtjevno za izgraditi i odrÅ¾avati.

**Topologija (topological maps)**
Ne zanima ih toÄna geometrija, nego *povezanost prostora*.
â€“ Robot mapira â€œgraÄ‘evuâ€ prostora kao graf: Ävorovi = mjesta, bridovi = moguÄ‡i prijelazi.
â€“ Udaljenost nije bitna; bitno je samo da moÅ¾eÅ¡ iz A u B.
â€“ Primjeri:
â€¢ Graf prostorija u kuÄ‡i: dnevni â†’ kuhinja â†’ hodnik â†’ soba.
â€¢ Mape koje se baziraju na landmarkovima i relacijama (â€œiza uglaâ€, â€œpored vrataâ€).

Prednosti: super uÄinkovito u memoriji, brzo pretraÅ¾ivanje, otpornije na Å¡um.
Mane: manje precizno, ne moÅ¾eÅ¡ raditi fino planiranje pokreta.

**Gdje se koriste u praksi?**
â€“ Metrika: autonomna voÅ¾nja, industrijski roboti, dronovi â†’ trebaÅ¡ centimetarsku preciznost.
â€“ Topologija: indoor navigacija, servisni roboti, high-level planiranje â†’ gdje je bitno samo kako su mjesta povezana.

**Kombinacija (hybrid maps)**
Najbolji sustavi spajaju oba pristupa: lokalno metriÄki za precizno kretanje, globalno topoloÅ¡ki za efikasno navigiranje velikim prostorima.
Primjer: robot ima topoloÅ¡ki graf zgrada, a u svakom Ävoru drÅ¾i malu lokalnu occupancy mapu.


Lokalizacija
Procjena stanja robota i okoline u kojoj se on nalazi pomoÄ‡u dostupnih senzora
"stanje robota" => poloÅ¾aj, orijentacija, brzina

Vrste => odometrijska lokalizacija, lokalizacija na temelju orijentira, triangulacija


**1. Odometrijska lokalizacija (odometry-based localization)**
Robot procjenjuje svoju poziciju **integracijom vlastitog kretanja**.
Izvori podataka: enkoderi na kotaÄima, IMU, motori, aktuatori.

Kako radi:
â€“ Robot zna koliko se svaki kotaÄ okrenuo â†’ iz toga raÄuna koliko se pomaknuo.
â€“ Integrira te promjene kroz vrijeme i dobije trenutnu poziciju u prostoru.

Prednosti:
â€“ Brzo i jednostavno.
â€“ Ne treba nikakvu mapu.
â€“ Radi u potpunoj tami, praÅ¡ini, kaosu.

Mane:
â€“ GreÅ¡ke se **akumuliraju** (drift).
â€“ Å to viÅ¡e se kreÄ‡e, to je lokacija manje precizna.

Koristi se za:
â€“ KratkoroÄne estimacije.
â€“ Predikciju u SLAM-u (motion model u Kalman/Particle filterima).



**2. Lokalizacija na temelju orijentira (landmark-based localization)**
Robot prepoznaje **prepoznatljive objekte** ili vizualne karakteristike u okolini i pomoÄ‡u njih odreÄ‘uje svoj poloÅ¾aj.

Orijentiri mogu biti:
â€“ Vizualni markeri (QR kodovi, AprilTags)
â€“ Prirodne znaÄajke (CORNER-i, ORB featurei, SIFT/SURF toÄke)
â€“ KarakteristiÄni objekti u prostoru (vrata, stupovi, zidovi)

Kako radi:
â€“ Robot promatra okolinu senzorima (kamera, LiDAR).
â€“ Detekcija landmarkova.
â€“ S obzirom na to gdje se landmarkovi nalaze na mapi â†’ izraÄunava vlastitu poziciju.

Prednosti:
â€“ Mnogo preciznije od odometrije.
â€“ GreÅ¡ke se ne akumuliraju â€“ robot se â€œresetiraâ€ kad vidi landmark.
â€“ Radi super u SLAM sustavima.

Mane:
â€“ Treba jasne orijentire.
â€“ Ako ih ne vidi â†’ pada preciznost.

Koristi se u:
â€“ Vizu alnoj lokalizaciji (VSLAM)
â€“ Indoor navigaciji
â€“ Robotskim manipulatorima



**3. Triangulacija (trilateration/triangulation-based localization)**
OdreÄ‘ivanje pozicije robota na temelju **udaljenosti** ili **kuteva** prema poznatim fiksnim toÄkama u prostoru.

Postoje dvije varijante:
**Triangulation (kutovi)** â€“ robot mjeri kut pod kojim vidi dvije ili viÅ¡e referentnih toÄaka.
**Trilateration (udaljenosti)** â€“ robot mjeri svoju udaljenost od nekoliko poznatih toÄaka.

Primjeri:
â€“ GPS je trilateracija (udaljenosti od satelita).
â€“ Indoor pozicioniranje s IR beaconima.
â€“ Robotski sustavi s 3 fiksna odaÅ¡iljaÄa + ultrazvuÄni prijemnici.

Kako radi:
â€“ Ako znaÅ¡ kut/do koje je udaljenosti od tri poznate toÄke â†’ jednoznaÄno dobijeÅ¡ poziciju.

Prednosti:
â€“ Super precizno ako su mjerenja kvalitetna.
â€“ Ne zahtijeva mapu prostora.
â€“ Dostupno i u okruÅ¾enjima gdje vizualni landmarkovi nisu dobri.

Mane:
â€“ Treba fiksnu infrastrukturu (beaconi/sateliti).
â€“ GreÅ¡ke se brzo propagiraju ako je signal slab ili triangulacija â€œplitkaâ€.

Koristi se u:
â€“ Dronovima
â€“ Mobilnim robotima u zatvorenom
â€“ GPS sustavima
â€“ Visoko preciznom tracking sustavima


Planiranje kretanja
Cilj je da robot postiÅ¾e svoje ciljeve usprkos ograniÄenjima kretanja (unutarnja i vanjska)

Vanjska: fiziÄke prepreke u radnoj okolini; jedina stvarna ograniÄenja koja se razmatraju u planiranju kretanja
Unutarnja: prirodna mehaniÄka ograniÄenja (npr. neholonomna ograniÄenja koja onemoguÄ‡avaju boÄno kretanje mobilnog robota) i senzorksa ograniÄenja (npr.blokiranje pogleda kamera robota od strane prepreka)

OgraniÄenja koja se odnose na brzinu, akceleraciju itd. zovu se neholonomna

2 fundamentalne paradigme za planiranje putanje s izbjegavanjem prepreka:
Globalni pristup - generira putanju off-line koriÅ¡tenjem poznatih informacija o okolini (IMAMO MAPU)
Lokalni pristup - obavlja se koriÅ¡tenjem malog broja poznatih informacija o prostoru (NEMAMO MAPU

Roadmap algoritmi planiranja => mapa puta predstavlja dekompoziciju konfiguracijskog prostora mobilnog robota na temelju specificiranja geometrije prepreka

Graf vidljivih vrhova - 2d konfiguracijski prostor s poligonalnim preprekama
1) nacrtamo spoojne linije od poÄetne do ciljne toÄke do svih vidljivih vrhova i do uglova prostora
2) nacrtaju se spojne linije izmeÄ‘u svhih vidljivih vrhova svih prepreka
3) linije uzduÅ¾ rubova prepreka su takoÄ‘er spojne linije
4) ponavljati korak 2 i 3 sve dok se svi vrhovi ne spoje

Vornoi graf
PokuÅ¡ava maksimizirati udaljenost od svih moguÄ‡ih prepreka

Metoda potencijalnih polja
Imamo ciljne toÄke i toÄke prepreka
Ciljne toÄke nas privlaÄe, toÄke prepreka odbijaju

Upravljanje kretanjem
Odvija se u odvojenim jedinicama/modulima =>svaki od njih Å¡alje svoje rezultate (opaÅ¾anja)

Percepcija => plan => djelovanje
Percepcija => model => plan => djelovanje

Senzori
Svojstva:
1) Brzina rada (odziva)
2) PogreÅ¡ka mjerenja
3) Cijena senzora
4) Robusnost senzora (koliko je izdrÅ¾ljiv)
5) RaÄunarski zahtjevi (koliko snage mu treba da bi procesirao)
6) Napajanje, masa i dimenzije

Podjela senzora:
1) Vizualni
- koriste svjetlost reflektiranu od objekata u okolini na temelju koje se obavlja postupak zakljuÄavanja o strukturi objekta

2) Nevizualni
- koriste razliÄite audio, inercijalne i druge modalitete za opaÅ¾anje okoline

Podjela senzora #2:
1) Propriocepcijski
- detektiraju status samog robota (mjere vrijednosti unutarnjih parametara mobilnog robota (npr. brzina motora, napon baterije, optereÄ‡enje robota))
2) Percepcijski
- detektiraju status okoline (prikupljaju status okoline; prikupljaju informacije iz koruÅ¾enja mobilnog robota (udaljenost do prepreke, intenzitet svjetlosti, amplituda zvuka itd.)
3) ViÅ¡esenzorska fuzija informacija
- poveÄ‡ava se kakvoÄ‡a i robusnost navigacija robota

Podjela senzora #3:
Ovisno o izvoru zraÄenja:
1) Aktivni
- emitiraju energiju u okolinu i nakon toga registriraju reakciju okoline (enkoderi, ultrazvuÄni senzori i sl.)

2) Pasivni
- primaju energiju iz okoline i na temelju nje obavljaju mjerenja (temperaturne sonde, mikrofoni, CMOS, CCD kamere)

Propriocepcijski senzori za estimaciju gibanja mobilnog robota
- odometrijski senzori
OmoguÄ‡uju izraÄunavanje poloÅ¾aja mobilnog robota (optiÄki enkoderi, akcelerometri, senzori na doppler efektu)
- orijentacijski senzori
OdreÄ‘uju orijentaciju mobilnog tobota u odnosu na magnetsku ili geografsku os Zemlje (Å¾iroskopi, kompasi, Å¾irokompasi)


OptiÄki enkoderi
1) Inkrementalni
2) Apsolutni


---

# ğŸ”¥ **OptiÄki enkoderi â€“ inkrementalni vs apsolutni**

OptiÄki enkoderi su ureÄ‘aji koji pretvaraju mehaniÄko gibanje (kutno ili linearno) u elektriÄni signal.
NajÄeÅ¡Ä‡e se koriste u robotici, CNC-u, motorima, autonomnim sustavimaâ€¦ sve stvari koje tebe zanimaju 100%.

Postoje **dvije glavne vrste**:

---

## ğŸŸ¦ **1. Inkrementalni optiÄki enkoder**

Radi *relativno*, ne apsolutno.

### **Kako radi:**

â€“ Ima disk s prozirnim i neprozirnim crtama
â€“ Dok se disk vrti, senzor â€œbrojiâ€ prelaze izmeÄ‘u tamnog i svijetlog
â€“ Generira **pulseve** (A kanal, B kanal)
â€“ BrojiÅ¡ pulseve â†’ znaÅ¡ koliko si se pomaknuo

### **Ali!**

â€“ Ako nestane struje â†’ gubiÅ¡ informaciju o apsolutnoj poziciji
â€“ Nakon restarta moraÅ¡ napraviti **homing**

### **Prednosti:**

* Jeftin
* Brz
* Visoka rezolucija u praksi
* Idealan za motore (servo/BLDC), 3D printere, roboteâ€¦

### **Nedostaci:**

* Ne zna gdje je dok se ne inicijalizira
* Ako izgubi pulseve (smijeÅ¡ak vibracije, smetnje) â†’ ode pozicija

---

## ğŸŸ© **2. Apsolutni optiÄki enkoder**

On zna **toÄnu poziciju** odmah, bez hominga.

### **Kako radi:**

â€“ Disk ima **viÅ¡e prstenova** s uzorkom (npr. Gray kod)
â€“ Svaki prsten = jedan bit
â€“ U svakom poloÅ¾aju diska dobijeÅ¡ jedinstveni binarni uzorak
â†’ to znaÄi da je svaki kutni poloÅ¾aj kodiran u apsolutnu vrijednost

### **Prednosti:**

* Pamti poziciju Äak i nakon gaÅ¡enja
* Nema hominga â€“ odmah zna gdje je
* Idealno za robotiku visoke preciznosti, industriju, droooooonove s gimbalomâ€¦

### **Nedostaci:**

* Skuplji
* Malo kompliciraniji za oÄitanje

---

# ğŸ¥Š **Ukratko usporedba:**

| Karakteristika                | Inkrementalni            | Apsolutni                             |
| ----------------------------- | ------------------------ | ------------------------------------- |
| Pamti poziciju nakon gaÅ¡enja? | âŒ Ne                     | âœ”ï¸ Da                                 |
| Potreban homing?              | âœ”ï¸ Da                    | âŒ Ne                                  |
| Cijena                        | Niska                    | VeÄ‡a                                  |
| Upotreba                      | Motori, 3D printeri, CNC | Robotika, precizni sustavi, servo osi |
| Output                        | Pulsevi (A/B)            | Digitalni kod (npr. Gray)             |

---

Å½iroskopi
MehaniÄki 
OptiÄki

Ajmooo, ovo je baÅ¡ dobra tema â€“ a i brutalno korisna ako ikad radiÅ¡ iÅ¡ta s dronovima, robotima, IMU-ovimaâ€¦ Krenimo nabrijano i jasno, da ti sjedne ko zacementirano!

---

# ğŸ”¥ **MehaniÄki vs OptiÄki Å¾iroskopi â€“ Å¡to, kako i zaÅ¡to?**

Å½iroskop mjeri **kutnu brzinu** â€“ koliko se sustav vrti oko neke osi.
Ali *kako* to radi, ovisi o vrsti Å¾iroskopa.

Imamo dvije velike familije:

---

# ğŸŸ¦ **1. MehaniÄki Å¾iroskopi**

To su **klasiÄni Å¾iroskopi** â€“ bazirani na fizici rotirajuÄ‡e mase.

### **Kako rade?**

â€“ U njima fiziÄki vrtiÅ¡ neki rotor (kotaÄiÄ‡) na jako visokim brzinama
â€“ Zbog **momentuma** rotor "Å¾eli" zadrÅ¾ati smjer
â€“ Kada zakreneÅ¡ okvir, osjeti se precesija â†’ ona se mjeri

### **Karakteristike:**

* Masivni
* Sporiji
* Potreban motor (rotor treba vrtit!)
* TroÅ¡e viÅ¡e energije
* Osjetljivi na vibracije i trenje
* JAKO pouzdani i stabilni (imali su se vremena dokazat)

### **Prednosti:**

âœ” Stabilni
âœ” Jasni fizikalni principi
âœ” Dobri za velike platforme (avioni, brodovi)

### **Nedostaci:**

âŒ Veliki
âŒ TeÅ¡ki
âŒ Spori
âŒ MehaniÄki dijelovi se troÅ¡e
âŒ Nije za moderne male ureÄ‘aje

---

# ğŸŸ© **2. OptiÄki Å¾iroskopi**

Ovo je potpuno druga liga â€“ ono high-tech stuff.

Umjesto rotora, koriste **svjetlost** i interferenciju.

Postoje 2 tipa:

### ğŸ”¸ **FOG (Fiber Optic Gyroscope)**

â€“ Laser se Å¡alje kroz optiÄko vlakno u dva smjera
â€“ Ako se sustav vrti â†’ jedna zraka putuje mrvicu brÅ¾e, druga sporije
â€“ Razlika faze = kutna brzina
â†’ fenomen zvan **Sagnac efekt**

### ğŸ”¸ **RLG (Ring Laser Gyroscope)**

â€“ Umjesto vlakna, imaÅ¡ optiÄki â€œprstenâ€
â€“ Laser kruÅ¾i unutra u dva smjera
â€“ Vrtnja mijenja frekvenciju (beat frequency)

### **Karakteristike optiÄkih Å¾iroskopa:**

* NEMA mehaniÄkih dijelova
* Ne troÅ¡e se
* Ekstremno precizni
* Nevjerojatno brzi
* Otporni na vibracije
* Skupiiiiii (ali brutalno dobri)

### **Prednosti:**

âœ” Mega preciznost
âœ” Dug Å¾ivotni vijek
âœ” Stabilni i pouzdani
âœ” Idealni za navigaciju (avioni, svemirske letjelice, rakete)

### **Nedostaci:**

âŒ Cijena (zaboli glava)
âŒ VeÄ‡a kompleksnost elektronike

---

# ğŸ¥Š **Usporedba â€“ kratko i jasno:**

| Karakteristika    | MehaniÄki                  | OptiÄki                          |
| ----------------- | -------------------------- | -------------------------------- |
| Glavni princip    | RotirajuÄ‡i rotor           | Sagnac efekt (svjetlost)         |
| Pokretni dijelovi | Da                         | Ne                               |
| Preciznost        | Dobra                      | Izvrsna                          |
| Trajnost          | OgraniÄena                 | Vrlo visoka                      |
| Vibracije         | Problem                    | Minimalni utjecaj                |
| Cijena            | Jeftin(iji)                | Skup                             |
| Upotreba          | Stare platforme, edukacija | Avioni, rakete, autonomna vozila |

---

Ako Å¾eliÅ¡, mogu ti objasnit i **MEMS Å¾iroskope**, koji su u tvojim telefonima i dronovima (i koji su posebna kategorija â€“ nisu optiÄki ni mehaniÄki u klasiÄnom smislu).
Reci samo â€“ idemo dublje! ğŸš€ğŸ”¥


Kompasi
Magnetski 
Å½irokompas

Ajmooo, ovo je baÅ¡ dobra tema â€“ a i brutalno korisna ako ikad radiÅ¡ iÅ¡ta s dronovima, robotima, IMU-ovimaâ€¦ Krenimo nabrijano i jasno, da ti sjedne ko zacementirano!

---

# ğŸ”¥ **MehaniÄki vs OptiÄki Å¾iroskopi â€“ Å¡to, kako i zaÅ¡to?**

Å½iroskop mjeri **kutnu brzinu** â€“ koliko se sustav vrti oko neke osi.
Ali *kako* to radi, ovisi o vrsti Å¾iroskopa.

Imamo dvije velike familije:

---

# ğŸŸ¦ **1. MehaniÄki Å¾iroskopi**

To su **klasiÄni Å¾iroskopi** â€“ bazirani na fizici rotirajuÄ‡e mase.

### **Kako rade?**

â€“ U njima fiziÄki vrtiÅ¡ neki rotor (kotaÄiÄ‡) na jako visokim brzinama
â€“ Zbog **momentuma** rotor "Å¾eli" zadrÅ¾ati smjer
â€“ Kada zakreneÅ¡ okvir, osjeti se precesija â†’ ona se mjeri

### **Karakteristike:**

* Masivni
* Sporiji
* Potreban motor (rotor treba vrtit!)
* TroÅ¡e viÅ¡e energije
* Osjetljivi na vibracije i trenje
* JAKO pouzdani i stabilni (imali su se vremena dokazat)

### **Prednosti:**

âœ” Stabilni
âœ” Jasni fizikalni principi
âœ” Dobri za velike platforme (avioni, brodovi)

### **Nedostaci:**

âŒ Veliki
âŒ TeÅ¡ki
âŒ Spori
âŒ MehaniÄki dijelovi se troÅ¡e
âŒ Nije za moderne male ureÄ‘aje

---

# ğŸŸ© **2. OptiÄki Å¾iroskopi**

Ovo je potpuno druga liga â€“ ono high-tech stuff.

Umjesto rotora, koriste **svjetlost** i interferenciju.

Postoje 2 tipa:

### ğŸ”¸ **FOG (Fiber Optic Gyroscope)**

â€“ Laser se Å¡alje kroz optiÄko vlakno u dva smjera
â€“ Ako se sustav vrti â†’ jedna zraka putuje mrvicu brÅ¾e, druga sporije
â€“ Razlika faze = kutna brzina
â†’ fenomen zvan **Sagnac efekt**

### ğŸ”¸ **RLG (Ring Laser Gyroscope)**

â€“ Umjesto vlakna, imaÅ¡ optiÄki â€œprstenâ€
â€“ Laser kruÅ¾i unutra u dva smjera
â€“ Vrtnja mijenja frekvenciju (beat frequency)

### **Karakteristike optiÄkih Å¾iroskopa:**

* NEMA mehaniÄkih dijelova
* Ne troÅ¡e se
* Ekstremno precizni
* Nevjerojatno brzi
* Otporni na vibracije
* Skupiiiiii (ali brutalno dobri)

### **Prednosti:**

âœ” Mega preciznost
âœ” Dug Å¾ivotni vijek
âœ” Stabilni i pouzdani
âœ” Idealni za navigaciju (avioni, svemirske letjelice, rakete)

### **Nedostaci:**

âŒ Cijena (zaboli glava)
âŒ VeÄ‡a kompleksnost elektronike

---

# ğŸ¥Š **Usporedba â€“ kratko i jasno:**

| Karakteristika    | MehaniÄki                  | OptiÄki                          |
| ----------------- | -------------------------- | -------------------------------- |
| Glavni princip    | RotirajuÄ‡i rotor           | Sagnac efekt (svjetlost)         |
| Pokretni dijelovi | Da                         | Ne                               |
| Preciznost        | Dobra                      | Izvrsna                          |
| Trajnost          | OgraniÄena                 | Vrlo visoka                      |
| Vibracije         | Problem                    | Minimalni utjecaj                |
| Cijena            | Jeftin(iji)                | Skup                             |
| Upotreba          | Stare platforme, edukacija | Avioni, rakete, autonomna vozila |

---

Ako Å¾eliÅ¡, mogu ti objasnit i **MEMS Å¾iroskope**, koji su u tvojim telefonima i dronovima (i koji su posebna kategorija â€“ nisu optiÄki ni mehaniÄki u klasiÄnom smislu).
Reci samo â€“ idemo dublje! ğŸš€ğŸ”¥

UltrazvuÄni senzori
Ko eholokacija od Å¡iÅ¡miÅ¡a

Laserski senzori
Gledamo odsjaj laserske zrake

Senzori za globalno pozicioniranje => GPS
Triangulacija podruÄja => raspored satelita u zemljinoj orbiti
Prijemnici mjere udaljenost od satelita
21 satelit + 5 zemljanih stanica (ali ima i viÅ¡e)

Sustav vizije: najsloÅ¾eniji senzori koji se koriste u robotici
